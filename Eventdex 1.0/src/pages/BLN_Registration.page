<apex:page controller="BLN_RegistrationController" showHeader="false" standardStylesheets="true" cache="true" id="thePage" title="{!registrationEvent.Name} - Boothleads">

  <!---------------------------------------------------------------------------------------------------------------------------------------------------------- 
  Author: Mahesh Sakunala
  Date: 02/06/2014
  Purpose: This Page is for registration which consists of buying multiple items along with applying promo codes and filling surveys.
  ------------------------------------------------------------------------------------------------------------------------------------------------------------>

<head>
    <apex:stylesheet value="{!URLFOR($Resource.Promocodes, 'promocodes/css/nwbuttons.css')}"/>
<!----------------------------------------------------- Start of Javascript and Styles Reference -------------------------------------------------------------->
<apex:stylesheet value="{!URLFOR($Resource.registration, 'css/style.css')}"/>
<apex:stylesheet value="{!URLFOR($Resource.registration, 'events-preview/css/event-master-styles.css')}"/>
<apex:stylesheet value="{!URLFOR($Resource.ScanAttendee_V1, 'AttendeeScan/scanattendee/css/chosen.css')}"/> 
<apex:stylesheet value="{!URLFOR($Resource.ScanAttendee_V1, 'AttendeeScan/scanattendee/css/responsive.css')}"/>
<apex:includeScript value="{!$Resource.GE_ES_JQueryFile}"/>

<!----------------------------- SPRY MENU TABS ---------------------------------- -->
<script type="text/javascript" src="{!URLFOR($Resource.SpryTabs, 'sprytabs/tabssss.js')}"></script>
<apex:stylesheet value="{!URLFOR($Resource.SpryTabs, 'sprytabs/tabsss.css')}"/>
<apex:stylesheet value="{!URLFOR($Resource.SpryTabs, 'sprytabs/tables.css')}"/>
<apex:stylesheet value="{!URLFOR($Resource.SpryTabs, 'sprytabs/style-button.css')}"/>
<!----------------------------- SPRY MENU TABS ---------------------------------- -->
 <c:AjaxLoader LoaderImage="{!$Resource.AjaxLoaderImage}"/>


<style>
    .clear{width:100%; height:20px;}
    
    .paymentOpt{
        margin: 0px auto;
        width: 80%;
        float: left;
    }
    
    .paymentOpt td{
        width: 25%;
    }
    
    .paymentOpt input, .paymentOpt label{
        float:left;
        display:inline;
        width: 50%;
    }
</style>
</head>
<body>

<style>{!registrationTemplate.Styles__c}</style>

<style>
#Preview-container{width:80%; margin:0px auto; height: auto; border:5px #ffffff solid; padding-top:0px; margin-top:10px; background-color:#fff;}
#event-logo{ width:280px; height:180px; margin-top:5px;}
#bnr-bottom-sdw{background-image: url({!URLFOR($Resource.registration,'events-preview/images/')}bnr-btm-sdw.png); background-repeat:repeat-x;height:10px;}
#shadow{width:100%; margin:0px auto; height:7px; background:url({!URLFOR($Resource.registration,'events-preview/images/')}top-border.png);}
.reg-tickets tr td{ padding:5px;}
#order-button{border:0px; border-radius:3px; background-color: #69E6F3;background-image:none; outline:none;}
.Organizer-details-tbl tr td{ padding:5px;}
#rightwidget{background: url({!URLFOR($Resource.registration,'events-preview/images/')}widget-menu-bg.jpg) repeat-y;}
.live-event {
    padding-top:15px;
    padding-left:25px;
    padding-bottom:15px;
    padding-right:10px;
    background-color:#ececec;
    background-image: url({!URLFOR($Resource.registration,'events-preview/images/')}timer-component-bg.jpg);
    background-repeat:repeat-y;
    float:left;
    width:96.5%;
}

 #top-borderimg{width:100%; height:8px; background-image: url({!URLFOR($Resource.registration,'events-preview/images/')}top-border.png);}
 #organizer-bottom-img{ background: url({!URLFOR($Resource.registration,'events-preview/images/')}widget-menu-bg.jpg);}
 #form-bg{background-color: #F0F0F0;}
 #field box tr td{ padding:5px;}
                
 .fields input[type="text"]{
    width: 100%;
    box-shadow: #F4F4F4 1px 4px 10px 0px;
    background: none;
    background-color: #ffffff;
    color:#727373;
    border: 1px solid #e3e3e3;
    text-indent: 5px;
    
    height: 35px;
    border-radius: 3px;
    padding: 0px;
    margin: 0px;
    margin-left:3px;
    outline: none;
}


#mandatory{color:#F00; font-size:20px;}
</style>

<style>
.foo {height: 45px;}
.login {height:150px;}
#TicketOptions option{
  width:50px;   
}
</style>


<script type="text/javascript">
    // set minutes
    var mins = '{!SessionTime}';
    
    // calculate the seconds (dont change this! unless time progresses at a different speed for you...)
    var secs = mins * 60;
    function countdown() {
        setTimeout('Decrement()',1000);
    }
    
    function Decrement(){
        if (document.getElementById){
            minutes = document.getElementById("minutes");
            seconds = document.getElementById("seconds");
            // if less than a minute remaining
            if (seconds < 59) {
                seconds.value = secs;
                document.getElementById('seconds').innerHTML=secs;
            } else {
                minutes.value = getminutes();
                seconds.value = getseconds();
                document.getElementById('minutes').innerHTML=getminutes();
                document.getElementById('seconds').innerHTML=getseconds();
            }
            if(minutes.value==0 && seconds.value==0){
                window.location.href=window.location.href;
            }else{
                secs--;
                setTimeout('Decrement()',1000);
            }
        }
    }

    function getminutes() {
        // minutes is seconds divided by 60, rounded down
        mins = Math.floor(secs / 60);
        return mins;
    }
    function getseconds() {
        // take mins remaining (as seconds) away from total seconds remaining
        return secs-Math.round(mins *60);
    }
    
    function detailsdisp(em,counter,e){      
        var ln = em.value; 
        if(ln!=""){
            dis(ln, counter);
        }
    }
 
    function autofil(em,counter,e){
        var keynum;
        if(window.event) {
            keynum = e.keyCode;
        }
        else{
            keynum = e.which;
        }
        if(keynum == 0 ||keynum == 9 ){
            alert(ln);
            if(ln!=""){
                dis(ln, counter);
            }
        }
    }
</script>

<script type="text/javascript">

    function toggle_visibility(id){
       var e = document.getElementById(id);
       if(id == 'PayPal'){
            document.getElementById('CreditCard').style.display = 'none';
            document.getElementById('Check').style.display = 'none';
            e.style.display = 'block';
       }else if(id == 'CreditCard'){
           document.getElementById('PayPal').style.display = 'none';
            document.getElementById('Check').style.display = 'none';
            e.style.display = 'block';
       }else if(id == 'Check'){
           document.getElementById('PayPal').style.display = 'none';
            document.getElementById('CreditCard').style.display = 'none';
            e.style.display = 'block';
       }else if(id == 'Cash'){
           document.getElementById('PayPal').style.display = 'none';
           document.getElementById('CreditCard').style.display = 'none';
           document.getElementById('Check').style.display = 'none';
       }
    }
    
    function toggle_visibility1(id) {
       var e = document.getElementById(id);
       if(e.style.display == 'block')
          e.style.display = 'none';
       else
          e.style.display = 'block';
    }

</script>

<script>
    $(document).ready(function() {
        $(".spanCls").click(function(){
        
            var s=$(this).attr('id');
            s= "#" + s.replace('SpanCol','tr1');
            $(s).toggle();
        });
    });
</script>

<script type="text/javascript">
    function jsFunction(ty){
    
        var selectedId = ty.id; // selected picklist id
        var selectedValue = document.getElementById(ty.id).value;  // selected picklist value
        var inputElem = document.getElementsByTagName("input");  
        var mycars = ["Prefix" , "FirstName" , "LastName" , "Suffix" , "Email" , "Phone" , "Company" , "Title" , "Age" , "DOB" , "Gender" , "WorkPhone" , "HomePhone" , "HomeAddress1" , "HomeAddress2" , "HomeCity" , "HomeCountry" , "HomeState" , "HomeZip" , "BusinessAddress1" , "BusinessAddress2" , "BusinessCity" , "BusinessCountry" , "BusinessState" , "BusinessZip" , "BillingAddress1" , "BillingAddress2" , "BillingCity" , "BillingCountry" , "BillingState" , "BillingZip" , "PrimBusCategory" , "SecBusCategory" , "NoofEmp" , "EstDate" , "Revenue" , "TaxId" , "DunsNumber" , "WebsiteUrl" , "BlogUrl" , "Description" , "PrimNaicsCode" , "SecNaicsCode"];

        for(var k=0; k<mycars.length; k++){
        
            var  selectedIdInputclass =  mycars[k]+selectedId; 
            var  destinationClass = mycars[k]+selectedValue;

            for(var i=0; i<inputElem.length; i++){     
                if(inputElem[i].className == destinationClass){     
                
                    for(var j=0; j<inputElem.length; j++){  
                        if(inputElem[j].className==selectedIdInputclass){  
                            document.getElementById(inputElem[j].id).value=document.getElementById(inputElem[i].id).value;
                        }
                    } 
                    
                }
            }
            
        } 
    
    } 
</script>     

<!----------------------------------------------------- End of Javascript and Styles Reference -------------------------------------------------------------->


<!--------------------------------Start of section--------------------------------------->
<section id="middle" style="padding:0px;" class="res" >
  <div id="container" >
    <div id="content" style="padding:0px; margin-bottom:15px;">
    <!------------------------->
    <div id="Preview-container">
    
    <!---start of preview header--->
    
        <table id="event-header" width="100%" border="0" cellspacing="0" cellpadding="0" align="center" style="background:url('/servlet/servlet.ImageServer?id= {!registrationTemplate.Header_Image_URL__c}&oid={!$Organization.Id}'); margin:0px auto; background-repeat:repeat; height:180px;">
            <tbody>
                <tr>
                    <td valign="middle" align="left">
                    
                        <table border="0" width="100%" cellspacing="0" cellpadding="0">
                            <tbody>
                                <tr>
                                    <td >
                                        <h1 id="event-title" style="margin-left:5%; font-size:30px;">{!registrationEvent.Name}</h1>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    
                    </td>
                    <td width="30%" valign="middle" style="text-align:center;padding-top:5px;">
                        <apex:image url="/servlet/servlet.ImageServer?id={!registrationEvent.Logo_URL__c}&oid={!$Organization.Id}" width="280px" height="180px"/>
                    </td>
                </tr>
                <tr>
                    <td valign="bottom" height="10" style="vertical-align:bottom">
                        <div id="bnr-bottom-sdw" ></div>
                    </td>
                    <td valign="bottom" height="10" style="vertical-align:bottom">
                        <div id="bnr-bottom-sdw"></div>
                    </td>
                </tr>
            </tbody>
        </table>
        
    <!--end of preview header--->
    
    
    
          <!--start of contentheader-->
           <table width="100%" border="0" cellspacing="0" cellpadding="0" align="center" style=" margin:0px auto;">
           <tr>
           <td width="100%">
            <!--------------------- Start of live event --------->
           <div class="live-event" style="margin-top:1px; width:96.5%">
                
                <!---------------------- time code start here ---------------------->
                <apex:repeat value="{!displaySettings}" var="ds">
                <apex:outputText rendered="{!IF(EventDaysRemaining >= 0 && ds.Column_Name__c == 'Days Left' && ds.Included__c == TRUE, TRUE, FALSE)}">
                <div style="float:left; margin-right:15px;">     
                    <div id="evtDateTimeLeft" style="width:100%; border:0px solid #F00;">
                    
                        <div id="displayTimeLeft">
                            <table border="0" cellpadding="0" cellspacing="0">
                                <tbody>
                                    <tr>
                                        <td style="vertical-align:top;"><img alt="Time Left Icon" src="{!URLFOR($Resource.registration, 'events-preview/images/2rgstr-ers-timeleft-icon.png')}" style="width:33px;height:33px;"/></td>
                                        <td><div class="timeLeftHeader"><strong>Time Left to Register</strong></div>
                                            <table border="0" cellpadding="0" cellspacing="0" style="margin-left:5px;">
                                                <tbody>
                                                    <tr>
                                                        <td><b><span class="timeLeftCount" id="daysLeft">{!EventDaysRemaining}</span></b><span class="timeLeftDsplyUnit">&nbsp;days&nbsp;</span></td>
                                                        <td><b><span class="timeLeftCount" id="hoursLeft">16</span></b><span class="timeLeftDsplyUnit">&nbsp;hrs&nbsp;</span></td>
                                                        <td><b><span class="timeLeftCount" id="minuteesLeft">20</span></b><span class="timeLeftDsplyUnit">&nbsp;mins&nbsp;</span></td>
                                                    </tr> 
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                </apex:outputText>
                </apex:repeat>
                <!--------------------------- Timer end --------------------------------->
               
                
                <!----------------------- Calendar code start --------------------------->
                <div style="float:left; margin-right:15px; ">
                    <table border="0" cellpadding="0" cellspacing="0">
                        <tbody>
                            <tr>
                                <td style=" vertical-align:top" valign="top">
                                    <img alt="ERS Calendar Icon" height="33" src="{!URLFOR($Resource.registration, 'events-preview/images/2reg-ers-cldr-icon.png')}" width="35"/>
                                </td>
                                <td valign="top">
                                <div class="event-info" id="calendarDetails" style="display: block;">
                                    <strong>
                                        <apex:outputText value="{0, date, MMM dd',' yyyy }">
                                            <apex:param value="{!registrationEvent.Start_Date__c}" />
                                        </apex:outputText>
                                        <apex:outputText rendered="{!IF(registrationEvent.Start_Date__c != registrationEvent.End_Date__c,TRUE,FALSE)}">
                                        &nbsp;-&nbsp;<apex:outputText value="{0, date, MMM dd',' yyyy }">
                                            <apex:param value="{!registrationEvent.End_Date__c}" />
                                        </apex:outputText>
                                        </apex:outputText>
                                    </strong><br/>
                                    <apex:outputText value="{!registrationEvent.Start_Time__c}" ></apex:outputText>&nbsp;-&nbsp;
                                    <apex:outputText value="{!registrationEvent.End_Time__c}" ></apex:outputText>
                                
                                </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-------------------------- Calendar Code end --------------------------->
                
                
                <!--------------------------- Event Details Code Start -------------------->
                <div style="float:left; width:51%;"><!-- Map Code start-->
                <table border="0" cellpadding="0" cellspacing="0">
                    <tbody>
                        <tr>
                            <td align="left" valign="top" width="15">
                            
                                <div id="mapLocation"> 
                                
                                    <div>
                                        <img alt="Reg Location Icon" height="30" src="{!URLFOR($Resource.registration, 'events-preview/images/2reg-ers-lctn-icon.png')}" width="23"/>
                                    </div>
                                    
                                    <td valign="top">
                                        <div class="event-info" id="locationDetails" style="display: block; border:0px solid #000;">
                                            <strong><apex:outputText value="{!registrationEvent.Venue_Name__c}"></apex:outputText></strong><br/>
                                            <apex:outputText value="{!registrationEvent.Street1__c}"></apex:outputText>, <apex:outputText value="{!registrationEvent.Street2__c}"></apex:outputText><br/>
                                            <apex:outputText value="{!registrationEvent.City__c}"></apex:outputText>, <apex:outputText value="{!registrationEvent.BLN_State__r.Short_Name__c}"></apex:outputText>&nbsp; <apex:outputText value="{!registrationEvent.ZipCode__c}"></apex:outputText> </div></td>
                                        </div>
                                    </td>
                        </tr>
                    </tbody>
                </table>
                </div>
                <!--------------------------- Event Details Code End -------------------->
              
           </div>
           <!--------------------- close of live event --------->
         
           </td>
           </tr>
       </table>
       
          
<!----------------------------------------------------------------------------------------- Function to set cookies ----------------------------------------------------------------------------------------------------------->
<script>   
    function setCookie(cookiename,cookievalue,cookieexpiry){
        var expirydate=new Date();
        expirydate.setDate(expirydate.getDate() + cookieexpiry);
        var cookie_value=escape(cookievalue) + ((cookieexpiry==null) ? "" : "; expires="+expirydate.toUTCString());
        document.cookie=cookiename+ "=" + cookie_value;
    }
</script>

<script>   
    function enableTab(TabId){
       
    }

</script>

<script>
window.onload=function(){
  
      var x  =  '{!RegItemList}';
        var y  =  '{!RegItemList.size}';
       
      
       if(y>0){
     
          try {
         enableTab("{!IF(RegItemList.size>0,RegItemList[0].TabLabel,'')}{!IF(RegItemList.size>0,RegItemList[0].TabOrder,'')}");
           
        }
           catch(err) {
        }
     }  
    
  };
  
</script>
<!------------------------------------------------------------------------------------- Function to set cookies --------------------------------------------------------------------------------------------------------------->     
        
          
    <div id="shadow"></div>
       

        <!-----------start of content description section-->
        <table width="100%" border="0" style=" margin-top:0px; margin-left:0%; border-collapse:collapse;">
        
        <tr>
        
        <!----------------------------------------------------------------------------------- First Page Panel Start ----------------------------------------------------------------------------------------------------->
      
        <apex:form id="OrderNowForm" forceSSL="true">  
        <apex:actionfunction name="applyPromocode" reRender="AmountPanel"  action="{!applyPromocode}" status="AjaxLoader">
         <apex:param name="itqnty" assignTo="{!itqnty}" value=""/>
         <apex:param name="itoldqnty" assignTo="{!itoldqnty}" value=""/>
         <apex:param name="itpoolid" assignTo="{!itpoolid}" value=""/>
          <apex:param name="itlabel" assignTo="{!itlabel}" value=""/>
        </apex:actionfunction>
        <apex:outputPanel id="OrderNowPanel" rendered="{!NOT(ShowSecondPage)}">   
        <apex:outputText rendered="{!IF(EventDaysRemaining >= 0 && EventItems.size > 0 && RegistrationEvent.Event_Status__c == 'Live', TRUE, FALSE)}">
         
        <td id="eventdescription" width="73%" valign="top">
         <style>
.TabbedPanelsTab{border-bottom:1px solid #ddd;
}
</style>


            <div id="TabbedPanels1" class="TabbedPanels" >
                
                    
                        <ul class="TabbedPanelsTabGroup">
                        <apex:repeat value="{!RegItemList}" var="ril" >
                        <apex:outputPanel rendered="true" layout="none">
                            <li class="TabbedPanelsTab" tabindex="0" style="outline:none; focus:none;color: #555; font-weight:300;"  id="{!ril.TabLabel}{!ril.tabOrder}">
                                {!ril.TabLabel}
                            </li>
                            </apex:outputPanel>
                            </apex:repeat>
                        </ul>
                    
                
                 <div class="TabbedPanelsContentGroup" >
                <apex:repeat value="{!RegItemList}" var="ril">    
                   
                    
                       
                        <div class="TabbedPanelsContent" style="min-height:110px;display:none;" id="{!ril.TabLabel}{!ril.tabOrder}ms">

            
                            <!---starts of tickets table---->
                            <div id="tickets table" style="width:97%; margin-left:2%; padding-bottom:90px; padding-top:0px;font-size:13px; font-family:Arial, Helvetica, sans-serif;">                                              
                                
                                <table class="reg-tickets" width="100%" cellspacing="" cellpadding="10" border="0" style="border-collapse:collapse; height:auto;">
                                    <tr style="padding:5px;" width="100%">
                                        <td id="ticketinformation" colspan="6" width="100%">Ticket Information</td>
                                    </tr>
                                    <tr id="ticketstable-subheader" width="100%">
                                        <apex:repeat value="{!DisplaySettings}" var="ds">
                                            <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Ticket Image' && ds.Included__c == TRUE, TRUE, FALSE)}" layout="none">
                                                 <td width="10%">{!ds.Label_Name__c}</td>
                                            </apex:outputPanel>
                                            <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Ticket Type' && ds.Included__c == TRUE, TRUE, FALSE)}" layout="none">
                                                 <td width="30%">{!ds.Label_Name__c}</td>
                                            </apex:outputPanel>
                                            <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Sales End' && ds.Included__c == TRUE, TRUE, FALSE)}" layout="none">
                                                 <td width="20%">{!ds.Label_Name__c}</td>
                                            </apex:outputPanel>
                                            <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Price' && ds.Included__c == TRUE, TRUE, FALSE)}" layout="none">
                                                <td width="15%">{!ds.Label_Name__c}</td>
                                            </apex:outputPanel>
                                            <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Fee' && ds.Included__c == TRUE, TRUE, FALSE)}" layout="none">
                                                <td width="15%">{!ds.Label_Name__c}</td>
                                            </apex:outputPanel>
                                            <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Quantity' && ds.Included__c == TRUE, TRUE, FALSE)}" layout="none">
                                                <td width="10%">{!ds.Label_Name__c}</td>
                                            </apex:outputPanel>
                                        </apex:repeat>
                                    </tr>
                                    <apex:outputPanel id="ticketsInput" layout="none">
                                    
                                      <apex:repeat value="{!ril.ItemsList}" var="ite">
                                            <tr style="font-size:13px; font-family:Arial, Helvetica, sans-serif; border-bottom: #CCC 1px dotted" width="100%">
                                                <apex:outputPanel rendered="{!IF(ite.items.Early_Bird_Pricing_Display_Flag__c == TRUE, TRUE, FALSE)}" layout="none">
                                                <apex:repeat value="{!DisplaySettings}" var="ds">
                                                    <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Ticket Image' && ds.Included__c == TRUE, TRUE, FALSE)}" layout="none">
                                                        <td>  
                                                            <apex:image url="/servlet/servlet.ImageServer?id={!ite.items.image_url__c}&oid={!$Organization.Id}" width="50px" height="30px"/>
                                                        </td>
                                                    </apex:outputPanel>
                                                    <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Ticket Type' && ds.Included__c == TRUE, TRUE, FALSE)}" layout="none">
                                                        <td>
                                                            <apex:outputText value="{!ite.items.item_name__c}"></apex:outputText>
                                                            
                                                            <span id="{!ite.items.id}SpanCol" class="spanCls" style="color:#414141;">
                                                                <a id="{!ite.items.id}downarrow"  href="" style="text-decoration:none;color:#0077B3;cursor:pointer;font-size:11px; font-weight: 700;">
                                                                    <apex:repeat value="{!displaySettings}" var="ds">
                                                                        <apex:outputText value="{!ds.Label_Name__c}" rendered="{!if(ds.Column_Name__c == 'More Info' && ds.Included__c == TRUE, TRUE, FALSE)}"/>
                                                                    </apex:repeat>
                                                                </a>
                                                            </span><br/>
                                                            <apex:outputText rendered="{!IF(ite.items.Item_Pool__r.Item_Type__r.Name == 'Package', TRUE, FALSE)}" style="color:#0077B3;font-size:11px; font-weight: 600;" value="Package Details :"/>&nbsp;
                                                            <apex:outputText rendered="{!IF(ite.items.Item_Pool__r.Item_Type__r.Name == 'Package', TRUE, FALSE)}" style="font-size:11px; font-weight: 600;" value="{!ite.PackageInfo}"/>
                                                        </td>
                                                    </apex:outputPanel>
                                                    <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Sales End' && ds.Included__c == TRUE, TRUE, FALSE)}" layout="none">
                                                        <td>  
                                                            <apex:outputText value="{0, date, MMMM d',' yyyy  'at'  hh:mm a}">
                                                                <apex:param value="{!ite.items.sale_end__c - 0.166666}" />
                                                            </apex:outputText>
                                                        </td>
                                                    </apex:outputPanel>
                                                    <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Price' && ds.Included__c == TRUE, TRUE, FALSE)}" layout="none">
                                                        <td>
                                                        <apex:outputText rendered="{!IF($User.Username==registrationEvent.owner.userName,true,false)}">
                                                          <apex:outputText >$</apex:outputText>
                                                          <apex:inputText value="{!ite.items.price__c}" style="width:70%" ></apex:inputText>
                                                         </apex:outputText>
                                                           
                                                           
                                                           <apex:outputText rendered="{!IF($User.Username==registrationEvent.owner.userName,false,true)}">
                                                            $<apex:outputText value="{!ite.items.price__c}" style="width:70%"></apex:outputText>
                                                         </apex:outputText>
                                                       
                                                            
                                                        </td>
                                                    </apex:outputPanel>
                                                    <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Fee' && ds.Included__c == TRUE, TRUE, FALSE)}" layout="none">
                                                        <td>
                                                            <apex:outputText value="{0, number,$###,##0.00}" rendered="{!IF(ite.items.Payment__c != 'Free' && ite.items.Item_Type__r.Name != 'Package',TRUE,FALSE)}">
                                                                <apex:param value="{!IF(ite.items.Item_Type__r.BL_Fee_Amt_per_res__c != NULL, ite.items.Item_Type__r.BL_Fee_Amt_per_res__c, FLOOR(ite.items.price__c*(ite.items.Item_Type__r.BL_Fee_Pct_per_res__c/100)))}"/>
                                                            </apex:outputText>
                                                            
                                                            <apex:outputText value="$0.00" rendered="{!IF(ite.items.Payment__c == 'Free' && ite.items.Item_Type__r.Name != 'Package',TRUE,FALSE)}"/>
                                                            <apex:outputText value="$0.00" rendered="{!IF(ite.items.Payment__c == 'Free' && ite.items.Item_Type__r.Name == 'Package',TRUE,FALSE)}"/>
                            
                                                            <apex:outputText value="{0, number,$###,##0.00}" rendered="{!IF(ite.items.Payment__c != 'Free' && ite.items.Item_Type__r.Name == 'Package',TRUE,FALSE)}">
                                                                <apex:param value="{!ite.PackageFee}"/>
                                                            </apex:outputText>
                             
                                                        </td>
                                                    </apex:outputPanel>
                                                    <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Quantity' && ds.Included__c == TRUE, TRUE, FALSE)}" layout="none">
                                                    
                                                    <td>  
                                                   
                                                   
                                                        <apex:outputPanel rendered="{!IF(NOW() >= ite.items.sale_start__c&& NOW() <= ite.items.sale_end__c,TRUE,FALSE)}" layout="none">
                                                                    
                                                            <apex:selectList value="{!itqnty}" multiselect="false" id="ItemQuantity" size="1"  style="width:50px;" onfocus="this.oldvalue = this.value;" onchange="applyPromocode(this.value,this.oldvalue,'{!ite.items}','{!ril.TabLabel}');this.oldvalue = this.value;" >
                                                                <apex:selectOptions value="{!ite.itemSelectOptions}"/>
                                                            </apex:selectList>
                                                 
                                                          
                                                            
                                                        </apex:outputPanel>
                                                       
                                                        <apex:outputText value="-- NA --" rendered="{!IF(NOW() >= ite.items.sale_start__c&& NOW() <= ite.items.sale_end__c,FALSE,TRUE)}"></apex:outputText> 
                                                        
                                                    </td> 
                                                    </apex:outputPanel>
                                                    </apex:repeat>
                                                </apex:outputPanel>
                                                </tr>
                                                
                                                <tr style="font-size:13px; font-family:Arial, Helvetica, sans-serif; border-bottom: #CCC 1px dotted" width="100%">
                                                    <td colspan="6" style="border-bottom:0px;padding:0px;position:relative; z-index:1000;">
                                                        <div  id="{!ite.items.id}tr1" style="border-bottom:1px solid #CCCCCC;display:none;width:100%;background-color:#d4ecf5;line-height:18px;" > 
                                                            <span style="margin-left:5px;"><apex:outputText escape="false" value=" {!ite.items.Description__c}"></apex:outputText></span>
                                                        </div>
                                                    </td>
                                                </tr>
                                        </apex:repeat> 
                                        
                                    </apex:outputPanel>  
                                </table>
                                  
                                <div id="mask2overlay" style=" width:87.5%; height:95.5%; display:; background-color:#fff; opacity:0.9; position:absolute; top:0; left:5.6%;"></div>
                                
                                                                                 
                                
                            </div><!--close of tickets table-->   
                        </div>
                        
                    
                     
                </apex:repeat>
                </div>
               
            </div> 
     <!----------------------------------------------------------------- Displaying Amounts Start ------------------------------------------------------------------>
                                <apex:outputPanel id="AmountPanel">
                                <div style="width:100%; height:15px; text-align:right;margin-top:10px;margin-right:20px;">
                                    <apex:outputText value="Sub Total : ${!totalAmount + DiscountedAmount}" id="totalqty" style="font-size:12px;font-weight:bold;"></apex:outputText>
                                </div> 
                                
                                <div style="width:100%; height:15px; text-align:right;margin-top:10px;margin-right:20px;">
                                    <apex:outputText value="Promo Discount : ${!DiscountedAmount}" id="discountamt" style="font-size:12px;font-weight:bold;"></apex:outputText>
                                </div>
                                
                                <apex:outputPanel rendered="{!IF(registrationEvent.Accept_Tax_Rate__c == TRUE && registrationEvent.Tax_Rate__c != NULL, TRUE, FALSE)}">
                                    <div style="width:100%; height:15px; text-align:right;margin-top:10px;margin-right:20px;">
                                        <apex:outputText value="Tax @ {!registrationEvent.Tax_Rate__c}% : ${!TaxAmount}" id="taxamt" style="font-size:12px;font-weight:bold;"></apex:outputText>
                                    </div>
                                </apex:outputPanel>
                                
                                <div style="width:100%; height:18px; text-align:right;margin-top:10px;margin-right:20px;">
                                     <apex:outputText value="Total Amount Due : $" style="font-size:12px;font-weight:bold;"></apex:outputText>
                                     
                                     <apex:outputText rendered="{!IF(registrationEvent.Accept_Tax_Rate__c == TRUE && registrationEvent.Tax_Rate__c != NULL,true,false)}">
                                         <apex:outputText value="{!TotalAmountwithTaxes}" id="totalamt" style="font-size:14px;font-weight:bold;"></apex:outputText>
                                     </apex:outputText>
                                     
                                     <apex:outputText rendered="{!IF(registrationEvent.Accept_Tax_Rate__c == TRUE && registrationEvent.Tax_Rate__c != NULL,false,true)}">
                                         <apex:outputText value="{!TotalAmount}" id="totalamts" style="font-size:14px;font-weight:bold;"></apex:outputText>
                                     </apex:outputText>
                                     <apex:actionStatus id="refreshAmount" >         
                                        <apex:facet name="start">         
                                           <apex:image url="{!$Resource.LoaderImage}"/>         
                                        </apex:facet>         
                                    </apex:actionStatus>
                                     
                                   
                                </div>
                                </apex:outputPanel>
                                 
                                <!------------------------------------------------------------------ Displaying Amounts End ------------------------------------------------------------------->
                             <div style="width:100%; height:30px; text-align:right;margin-top:10px;margin-right:20px;margin-bottom:20px;font-size:13px; font-family:Arial, Helvetica, sans-serif;">
                                    <div onclick="toggle_visibility1('foo');" style="text-decoration:none;color:Blue;cursor:pointer;position:relative;">Enter promotional code</div>
                                    <div id="foo" style="display:none;align:center;width:100%;margin-bottom:10px;margin-top:10px;height:30px;position:relative;">  
                                        Enter your promotional code:&nbsp;<apex:inputText value="{!promocode}" style="width:125px;"/> &nbsp;&nbsp;
                                        <apex:commandLink value="Apply" action="{!applyPromocode}" styleClass="orderbutton" status="AjaxLoader" reRender="qty,AmountPanel" onclick="toggle_visibility1('foo');"/>
                                    </div>
                                    
                                    <div style="width:100%; height:30px; text-align:right;margin-top:20px;position:relative;">
                                        <apex:commandLink value="Order Now" action="{!OrderNow}" styleClass="orderbutton" />
                                        <hr style="width:100%; margin:0px auto; margin-left:0px; margin-top:20px; "/>  
                                    </div>
                                    
                                </div>
                                
                                <div class="clear"></div>
                                
                                
                                <!--starts of event description-->
                                
                                    <div class="h3" style="width:97%; margin-left:0%;  margin-top:3px;">
                                    </div><!--close of h3-->
                                <br/>
                                
                                <div class="h4" style="width:97%; margin-left:0%; line-height:20px;  margin-top:50px;font-size:13px; font-family:Arial, Helvetica, sans-serif;">
                                    
                                    <apex:repeat value="{!displaySettings}" var="ds">
                                        <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Sales Message' && ds.Included__c == TRUE, TRUE, FALSE)}">
                                            <apex:outputText value="{!ds.Sales_Message__c}" rendered="{!IF(ds.Sales_Message__c != NULL, TRUE, FALSE)}" ></apex:outputText>
                                            <apex:outputText value="{!registrationEvent.Description__c}" rendered="{!IF(ds.Sales_Message__c != NULL, FALSE, TRUE)}"></apex:outputText> 
                                        </apex:outputPanel>
                                    </apex:repeat>
                                    
                                      
                                </div><!--close of h4--->
                                
                                <!--end of eventdescription table--> 
                              
        </td><!--close of content description-->
        </apex:outputText>
                                                           
                                                    
            <apex:outputText rendered="{!IF(EventDaysRemaining >= 0, FALSE, TRUE)}">
               <td id="eventdescription" width="73%" valign="top">
                    <div id="tickets table" style="width:97%; margin-left:35%; padding-top:90px;min-height:200px;">         
                     <h3 style="font-size:28px;">
                         The event is completed
                     </h3>                                          
                    </div>
                </td>
            </apex:outputText>
            
            <apex:outputText rendered="{!IF(EventItems.size == 0 && registrationEvent.Event_Status__c == 'Live' && EventDaysRemaining >= 0, TRUE, FALSE)}">
               <td id="eventdescription" width="73%" valign="top">
                    <div id="tickets table" style="width:97%; margin-left:35%; padding-top:90px;min-height:200px;">         
                     <h3 style="font-size:28px;">
                         There are no tickets available for sale
                     </h3>                                          
                    </div>
                </td>
            </apex:outputText>

            
           <!-- <apex:outputText rendered="{!IF((EventItems.size > 0 || EventItems.size == 0) && registrationEvent.Event_Status__c != 'Live', TRUE, FALSE)}">
               <td id="eventdescription" width="73%" valign="top">
                    <div id="tickets table" style="width:97%; margin-left:35%; padding-top:90px;min-height:200px;">         
                     <h3 style="font-size:28px;">
                         Make the event live to open registration
                     </h3>                                          
                    </div>
                </td>
            </apex:outputText>-->
            
         
            <apex:outputText rendered="{!IF((registrationEvent.Event_Status__c == 'Pause' || registrationEvent.Event_Status__c == 'Completed' || registrationEvent.Event_Status__c == 'Cancelled' || registrationEvent.Event_Status__c == 'Draft') && EventItems.size > 0, TRUE, FALSE)}">
               <td id="eventdescription" width="73%" valign="top">
                    <div id="tickets table" style="width:97%; margin-left:35%; padding-top:90px;min-height:200px;">         
                     <h3 style="font-size:28px;">
                         The Event is {!registrationEvent.Event_Status__c}
                     
                     </h3>                                          
                    </div>
                </td>
            </apex:outputText>
       
        </apex:outputPanel>
        
        
        <!--------------------------------------------------------------------------------- First Page Panel End -------------------------------------------------------------------------------------------------------------->


        <!---------------------------------------------------------------------------------------- Second Page Panel Start ------------------------------------------------------------------------------------------------------->
        
        <apex:outputPanel id="CompleteRegistrationPanel" rendered="{!ShowSecondPage}">
        <td id="eventdescription" width="73%" valign="top">
            
            <!------------------------------------------------------------------------------------- Registration Timer Start --------------------------------------------------------------------------------->
            <apex:repeat value="{!DisplaySettings}" var="ds">
            <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Time Out' && ds.Included__c == TRUE, TRUE, FALSE)}">
            <table style="width:100%;margin:0px auto;" cellspacing="0" cellpadding="0" border="0">

            <tr>
                <td colspan="3" style="border-bottom:1px solid white;-webkit-border-radius: 5px;border-radius: 5px;padding-left:10px;">             
            
                <script>
                    countdown();
                </script>
            
                <style>
                .countdown_timer_notification {
                    background-color: #FFF9D0;
                    border: 1px solid #FFE661;
                    -moz-border-radius: 5px;
                    -webkit-border-radius: 5px;
                    border-radius: 5px;
                    padding: 15px 0 11px 21px;
                    color: #555;
                    margin-bottom: 15px;
                    font:normal;
                }
                </style>                
            
            
                <div id="timer" style="border" class="countdown_timer_notification">
                    <center>
                        <table id="tablew"  border="0" style="width:100%">
                        <tr>
                            <td style="width:30%">
                                <table style="width:100%">
                                    <tr id="spacer1">
                                        <td align="center" ><div  id="minutes" class="numbers" > </div></td>
                                        <td align="center" ><div style="width:20px;font-weight:20px;font-weight:bold;" >:</div></td>
                                        <td align="center" ><div id="seconds" class="numbers" > </div></td>
                                    </tr>
            
                                    <tr id="spacer1">
                                        <td align="center" ><div   class="title">Minutes </div></td>
                                        <td align="center" ><div style="width:20px;font-weight:20px;" ></div></td>
                                        <td align="center" ><div class="title">Seconds </div></td>
                                    </tr>
                                </table>
                            </td>
            
                            <td style="font-weight: normal;width:70%;" >
                                <p>Please complete registration within <span id="time_limit">{!SessionTime}</span> minutes<br/>
                                After <span id="time_limit2">{!SessionTime}</span> minutes, the reservation we are holding will be released to others.</p>
                            </td>
                        </tr> 
                        </table>
                    </center>
                </div>  
            
                </td>
            </tr>                    
            
            </table>
            </apex:outputPanel>
            </apex:repeat>
            <!------------------------------------------------------------------------------------- Registration Timer End ----------------------------------------------------------------------------------->
            <div id="timer" style="border" class="countdown_timer_notification">
                    <center>
                        <table id="tablew"  border="0" style="width:100%">
                        <tr>
                            <td style="width:100%">
                             <apex:pageMessages ></apex:pageMessages>
                          </td>
                        </tr></table></center>
               </div>            
        
        
        
            <!---starts of tickets table---->
            
            <div id="tickets table" style="width:97%; margin-left:2%; padding-bottom:20px; padding-top:0px;border:1px solid #ccc;">
            
            <table class="reg-tickets" width=" 100.1%" cellspacing="" cellpadding="10" border="0" style="border-collapse:collapse;">
                <tr style="padding:5px;" width="100%">
                    <td id="ticketinformation" colspan="6" width="100%">Order Summary</td>
                </tr>
                <tr id="ticketstable-subheader" width="100%">
                    <apex:repeat value="{!DisplaySettings}" var="ds">
                        <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Ticket Image' && ds.Included__c == TRUE, TRUE, FALSE)}">
                             <td width="10%">{!ds.Label_Name__c}</td>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Ticket Type' && ds.Included__c == TRUE, TRUE, FALSE)}">
                             <td width="30%">{!ds.Label_Name__c}</td>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Price' && ds.Included__c == TRUE, TRUE, FALSE)}">
                             <td width="15%">{!ds.Label_Name__c}</td>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Fee' && ds.Included__c == TRUE, TRUE, FALSE)}">
                            <td width="15%">{!ds.Label_Name__c}</td>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Quantity' && ds.Included__c == TRUE, TRUE, FALSE)}">
                            <td width="15%">{!ds.Label_Name__c}</td>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Sub Total' && ds.Included__c == TRUE, TRUE, FALSE)}">
                            <td width="15%">Sub Total</td> 
                        </apex:outputPanel>
                    </apex:repeat>
                </tr>
                <apex:outputPanel id="ticketsoutput">
                    <apex:repeat value="{!ItemList}" var="item">
                        <apex:outputText rendered="{!IF(VALUE(item.selectedItemQuantity) > 0,TRUE,FALSE)}">
                        <tr style="font-size:13px; font-family:Arial, Helvetica, sans-serif; border-bottom: #CCC 1px dotted" width="100%">
                        <apex:repeat value="{!DisplaySettings}" var="ds">
                             <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Ticket Image' && ds.Included__c == TRUE, TRUE, FALSE)}">
                                    <td>  
                                        <apex:image url="/servlet/servlet.ImageServer?id={!item.items.image_url__c}&oid={!$Organization.Id}" width="50px" height="30px"/>
                                    </td>
                                </apex:outputPanel>
                            <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Ticket Type' && ds.Included__c == TRUE, TRUE, FALSE)}">
                                <td>
                                    <apex:outputText value="{!item.items.item_name__c}"></apex:outputText>
                                </td>   
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Price' && ds.Included__c == TRUE, TRUE, FALSE)}">                     
                                <td>
                                    <apex:outputText value="${!item.items.price__c}"></apex:outputText>
                                </td>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Fee' && ds.Included__c == TRUE, TRUE, FALSE)}">
                                <td>
                                    <apex:outputText value="{0, number,$###,##0.00}" rendered="{!IF(item.items.Payment__c != 'Free' && item.items.Item_Type__r.Name != 'Package',TRUE,FALSE)}">
                                        <apex:param value="{!IF(item.items.Item_Type__r.BL_Fee_Amt_per_res__c != NULL, item.items.Item_Type__r.BL_Fee_Amt_per_res__c, FLOOR(item.items.price__c*(item.items.Item_Type__r.BL_Fee_Pct_per_res__c/100)))}"/>
                                    </apex:outputText>
                                    
                                    <apex:outputText value="$0.00" rendered="{!IF(item.items.Payment__c == 'Free' && item.items.Item_Type__r.Name != 'Package',TRUE,FALSE)}"/>
                                    <apex:outputText value="$0.00" rendered="{!IF(item.items.Payment__c == 'Free' && item.items.Item_Type__r.Name == 'Package',TRUE,FALSE)}"/>
    
                                    <apex:outputText value="{0, number,$###,##0.00}" rendered="{!IF(item.items.Payment__c != 'Free' && item.items.Item_Type__r.Name == 'Package',TRUE,FALSE)}">
                                        <apex:param value="{!item.PackageFee}"/>
                                    </apex:outputText>
                                </td>
                             </apex:outputPanel>
                             <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Quantity' && ds.Included__c == TRUE, TRUE, FALSE)}">
                                 <td>  
                                     <apex:outputText value="{!item.selectedItemQuantity}"></apex:outputText>
                                 </td> 
                             </apex:outputPanel>
                             <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Sub Total' && ds.Included__c == TRUE, TRUE, FALSE)}">
                                 <td>  
                                    <apex:outputText value="{0, number,$###,##0.00}" rendered="{!IF(item.items.Payment__c != 'Free' && item.items.Item_Type__r.Name != 'Package',TRUE,FALSE)}" id="qty1">
                                        <apex:param value="{!IF(item.items.Item_Type__r.BL_Fee_Amt_per_res__c != NULL, (VALUE(item.selectedItemQuantity) * item.items.price__c) + (VALUE(item.selectedItemQuantity) * item.items.Item_Type__r.BL_Fee_Amt_per_res__c), (VALUE(item.selectedItemQuantity) * item.items.price__c) + (VALUE(item.selectedItemQuantity) *FLOOR(item.items.price__c*(item.items.Item_Type__r.BL_Fee_Pct_per_res__c/100))))}"/>
                                    </apex:outputText>
                                    
                                    
                                    <apex:outputText rendered="{!IF(item.items.Payment__c == 'Free' && item.items.Item_Type__r.Name != 'Package',TRUE,FALSE)}" value="{!VALUE(item.selectedItemQuantity) * item.items.price__c}" id="qty2"></apex:outputText>
    
                                    <apex:outputText value="{0, number,$###,##0.00}" rendered="{!IF(item.items.Payment__c != 'Free' && item.items.Item_Type__r.Name == 'Package',TRUE,FALSE)}" id="qty3">
                                        <apex:param value="{!(VALUE(item.selectedItemQuantity) * item.items.price__c) + (VALUE(item.selectedItemQuantity) * item.PackageFee)}"/>
                                    </apex:outputText>
                                    
                                    
                                     <apex:outputText rendered="{!IF(item.items.Payment__c == 'Free' && item.items.Item_Type__r.Name == 'Package',TRUE,FALSE)}" value="{!VALUE(item.selectedItemQuantity) * item.items.price__c}" id="qty4">
                                     </apex:outputText>
                                   
                              <!-- {!$User.Username}-{!registrationEvent.owner.userName}
                                    <apex:outputText rendered="{!IF($User.Username==registrationEvent.owner.userName,true,false)}">
                                     <apex:inputText rendered="{!IF(item.items.Payment__c == 'Free' && item.items.Item_Type__r.Name == 'Package',TRUE,FALSE)}" value="{!item.items.price__c}" id="qty90">
                                     </apex:inputText>
                                   </apex:outputText>-->
                               
                                </td> 
                             </apex:outputPanel>
                         </apex:repeat>
                        
                        </tr>
                        </apex:outputText>
                    </apex:repeat>
                </apex:outputPanel>  
            </table>
            
            <!----------------------------------------------------------------- Displaying Amounts Start ------------------------------------------------------------------>
            <apex:outputPanel rendered="{!IF(DiscountedAmount != 0.00 ,TRUE,FALSE)}">
                <div style="width:99%; height:15px; text-align:right;margin-top:10px;padding-right:10px;border-bottom:1px solid #ccc;">
                    <apex:outputText value="Sub Total : ${!totalAmount + DiscountedAmount}" id="totalqty1" style="font-size:12px;font-weight:bold;"></apex:outputText>
                </div> 

                <div style="width:99%; height:15px; text-align:right;margin-top:10px;padding-right:10px;border-bottom:1px solid #ccc;">
                    <apex:outputText value="Promo Discount : ${!DiscountedAmount}" id="discountamt1" style="font-size:12px;font-weight:bold;"></apex:outputText>
                </div>
            </apex:outputPanel>
            
             <apex:outputPanel rendered="{!IF(registrationEvent.Accept_Tax_Rate__c == TRUE && registrationEvent.Tax_Rate__c != NULL, TRUE, FALSE)}">
                <div style="width:99%;height:18px; text-align:right;margin-top:10px;padding-right:10px;border-bottom:1px solid #ccc;">
                    <apex:outputText value="Tax @ {!registrationEvent.Tax_Rate__c}% : ${!TaxAmount}" id="taxamt1" style="font-size:12px;font-weight:bold;"></apex:outputText>
                </div>
            </apex:outputPanel>
            
            <div style="width:99%; height:18px; text-align:right;margin-top:10px;padding-right:10px;">
                <apex:outputText value="Total Amount Due : $" style="font-size:12px;font-weight:bold;"></apex:outputText>
                 <apex:outputText value="{!IF(registrationEvent.Accept_Tax_Rate__c == TRUE && registrationEvent.Tax_Rate__c != NULL,TotalAmountwithTaxes,TotalAmount)}" id="totalamt1" style="font-size:14px;font-weight:bold;"></apex:outputText>
            </div>
            <!------------------------------------------------------------------ Displaying Amounts End ------------------------------------------------------------------->

            </div><!--close of tickets table-->                                               

            <br/>
            
            <div id="tickets table" style="width:97%; margin-left:2%; padding-bottom:0px; padding-top:0px;">
            
            <table class="reg-tickets" width="100%" cellspacing="" cellpadding="10" border="0" style="border-collapse:collapse;">
                <tr style="padding:5px;">
                    <td id="ticketinformation">Registration Information</td>
                </tr>
                
                <tr>
                    <td>
                
                    <!---registration-fields-->
                    <div id="form-bg" style="width:101.5%; border:0px solid #78DBE9; border-bottom:1px dotted #000;margin-left:-.8%; height:auto; padding-bottom:0px; margin-top:0px; margin-right:0px;  float:left;">
                        <div style="width:100%; margin-top:-1px; height:30px;border-bottom:1px dashed #FFFFFF; text-indent:10px;"> 
                           
                            <div style="width:100%; padding-top:5px; font-family: Segoe ui; font-size:18px; float:left; text-align:center; ">
                            
                                <apex:outputPanel id="LogInUserPanel" rendered="{!NOT(HideLogin)}">
                                <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                  <tr>
                                    <td style="text-align:right; width:50%;"><div style="font-size:14px;">Are you a Boothleads User?</div></td>
                                    <td style="text-align:left; width:50%;"><div onclick="toggle_visibility1('login');" style="text-decoration:none;color:#005cff;cursor:pointer;font-size:14px; ">
                                     Sign In to your Account</div> </td>
                                  </tr>
                                </table>
     
                                   <div id="login" style="display:none;align:center;width:100%;">  
                                    <table id="field box" class="fields" width="70%" border="0" style="margin:0px auto; border-collapse:collapse;">
                                        <tr>
                                            <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Email Address:</td>
                                            <td><apex:inputText value="{!EmailAddress}" id="LoginEmailAddress" onchange="setCookie('apex__loginemailaddress', this.value, 3);"/></td>
                                        </tr>
                                        <tr>
                                            <td style=" text-align:right; font-size:13px; font-family:Arial, Helvetica, sans-serif;">Password:</td>
                                            <td><apex:inputSecret value="{!Password}" style="width: 100%;box-shadow: #F4F4F4 1px 4px 10px 0px;background: none;background-color: #ffffff;color:#727373;border: 1px solid #e3e3e3;text-indent: 5px;height: 35px;border-radius: 3px;padding: 0px;margin: 0px;margin-left:3px;outline: none;"/></td>
                                        </tr>
                                        <tr>
                                            <td>&nbsp;</td>
                                            <td align="center" style="padding-top:10px;"><apex:commandLink value="Login" action="{!login}" styleClass="orderbutton"/><font style="font-size:13px; color:#414141; padding-left:10px;">Logging in is Optional</font></td>
                                        </tr>
                                    </table>
                                </div>
                                </apex:outputPanel>
                                
                                
                                <apex:outputPanel id="LoggedInUserPanel" rendered="{!HideLogin}">
                                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                      <tr>
                                        <td style="text-align:right; width:50%;"><div style="font-size:13px; font-weight:600;">Welcome back, <b>{!LoggedInUser.Firstname} {!LoggedInUser.LastName}</b></div></td>
                                        <td style="text-align:left; width:50%;"><div><apex:commandLink value="Logout" action="{!logout}" style="text-decoration:none;color:Blue;cursor:pointer;font-size:13px; font-weight:600;"/></div> </td>
                                      </tr>
                                    </table>
                                </apex:outputPanel>
                            
                                <apex:variable value="{!0}" var="Order"/>
                                <apex:repeat value="{!TicketList}" var="t">
                                                                         
                                    <apex:outputPanel rendered="{!IF((t.Ticket.Item_Pool__r.Ticket_Settings__c == 'Collect info from All Attendees' && t.Ticket.Item_Type__r.name == 'Package') || (t.Ticket.Item__r.Ticket_Settings__c == 'Collect info from All Attendees' && t.Ticket.Item_Type__r.name != 'Package'), TRUE, FALSE)}"> 
                                    
                                    <div id="ticketstable-subheader" style="padding: 5px 0px;width:100%;margin-top:10px; border-bottom:1px dashed #FFFFFF; text-indent:10px;text-align:left;">
 
                                        <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                          <tr>
                                            <td style="text-align:left;width:60%; border: 0px Solid Red;">
                                                <apex:variable value="{!Order+1}" var="Order"/>
                                                <apex:outputText value="{!IF(t.Ticket.Item__r.Ticket_Settings__c == 'Collect info from All Attendees' && t.Ticket.Item_Type__r.name == 'Package' , 'Ticket #' + TEXT(Order) + ' - '+ t.Ticket.Item_Pool__r.Item_Pool_Name__c + ' ('+ t.Ticket.Item__r.item_name__c +')','Ticket #' + TEXT(Order) +' - '+ t.Ticket.Item__r.item_name__c)}"/>
                                            </td>
                                            <td style="padding-right:10px; text-align:right; width:40%;border: 0px Solid Red;">
                                                <apex:outputPanel rendered="{!IF(Order > 1 ,TRUE,FALSE)}">   
                                                    Copy Info from: <select id="Ticket #{!t.OrderNo}" onchange="jsFunction(this);" style="width: 140px;height:20px; ">
                                                    <option>Select (Optional)</option>
                                                    <apex:repeat value="{!TicketList}" var="o">  
                                                        <apex:outputPanel rendered="{!IF((o.Ticket.Item_Pool__r.Ticket_Settings__c == 'Collect info from All Attendees' && o.Ticket.Item_Type__r.name == 'Package') || (o.Ticket.Item__r.Ticket_Settings__c == 'Collect info from All Attendees' && o.Ticket.Item_Type__r.name != 'Package'), TRUE, FALSE)}"> 
                                                            <option>Ticket #{!o.OrderNo}</option>
                                                        </apex:outputPanel>
                                                    </apex:repeat>
                                                    </select>
                                                 </apex:outputPanel>
                                            </td>
                                          </tr>
                                        </table>

                                    </div>
                                    
                                     <!--------------------------------------------------------------------- Ticket Details with Registration Settings Start ----------------------------------------------------------------------------------->
                                     <apex:repeat value="{!IF(t.Ticket.Item_Type__r.name == 'Package', t.RegSettingMap[t.Ticket.Item_Pool__r.Id], t.RegSettingMap[t.Ticket.Item__r.id])}" var="rs">
                                    

                                       <!-- {!rs.Table_Name__c} {!rs.Column_Name__c} {!rs.Label_Name__c} {!rs.Included__c} {!rs.Required__c} -->
                                        <apex:outputPanel rendered="{!IF(rs.Group_Name__c == 'Basic Information' && rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Prefix__c' , TRUE , FALSE)}">
                                            <div id="ticketstable-subheader1" style="width:100%; height:30px;margin-top:10px; text-indent:10px; text-align:left;">
                                                 <apex:outputText value="{!rs.Group_Name__c}" style="padding-top:5px; text-align:left;"/>
                                            </div>
                                        </apex:outputPanel>  
                                        <table id="field box" class="fields" width="80%" border="0" style="margin:0px auto; border-collapse:collapse;border: 0px Solid Red;" cellpadding="10">
                                            <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Prefix__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Prefix__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="Prefix" value="{!t.EachUser.User__r.Prefix__c}" styleClass="PrefixTicket #{!t.OrderNo}" style="width:100%"/></td>
                                                </tr>
                                            </apex:outputPanel>  
                                            <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'First_Name__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'First_Name__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="FirstName" value="{!t.EachUser.First_Name__c}" onchange="setCookie('apex__firstname', this.value, 3);" styleClass="FirstNameTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                            </apex:outputPanel>  
                                            <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Last_Name__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Last_Name__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="LastName" value="{!t.EachUser.Last_Name__c}" onchange="setCookie('apex__lastname', this.value, 3);" styleClass="LastNameTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                            </apex:outputPanel> 
                                             <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Suffix__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Suffix__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="Suffix"  value="{!t.EachUser.User__r.Suffix__c}" styleClass="SuffixTicket #{!t.OrderNo}" style="width:100%"/></td>
                                                </tr>
                                            </apex:outputPanel>  
                                            <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Email__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Email__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="Email" value="{!t.EachUser.Email__c}" onchange="setCookie('apex__emailaddress', this.value, 3);" styleClass="EmailTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                            </apex:outputPanel> 
                                            <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Phone__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Phone__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="Phone" value="{!t.EachUser.Phone__c}" onchange="setCookie('apex__phone', this.value, 3);"  styleClass="PhoneTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                            </apex:outputPanel>   
                                            <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Name' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Name' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="Company" value="{!t.EachUser.Company_Name__c}" onchange="setCookie('apex__company', this.value, 3);" styleClass="CompanyTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                            </apex:outputPanel> 
                                            <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Title__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Title__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="Title" value="{!t.EachUser.Title__c}" required="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Title__c' && rs.Required__c == TRUE, TRUE , FALSE)}"  styleClass="TitleTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                            </apex:outputPanel>   
                                            <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Age__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Age__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="Age" value="{!t.EachUser.User__r.Age__c}" styleClass="AgeTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                            </apex:outputPanel>  
                                            <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'DOB__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'DOB__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="DOB" value="{!t.EachUser.User__r.DOB__c}" styleClass="DOBTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                            </apex:outputPanel>     
                                            <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Gender__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Gender__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="Gender" value="{!t.EachUser.User__r.Gender__c}" styleClass="GenderTicket #{!t.OrderNo}" style="width:100%"/></td>
                                                </tr>
                                            </apex:outputPanel>       
                                            <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work_Phone__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Work_Phone__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="WorkPhone" value="{!t.EachCompanyExt.Work_Phone__c}" styleClass="WorkPhoneTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                            </apex:outputPanel>  
                                            <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Home_Phone__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Home_Phone__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="HomePhone" value="{!t.EachUser.User__r.Home_Phone__c}" styleClass="HomePhoneTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                            </apex:outputPanel>   

                                        </table>
                                       
                                        
                                        <!-------------------------------------------------------------------------------------  Basic Information Group End ---------------------------------------------------------------------------------------->
                                        
                                        <!-------------------------------------------------------------------------------------  Address Information Group Start ---------------------------------------------------------------------------------------->
                                         <apex:outputPanel rendered="{!IF(rs.Group_Name__c == 'Address Information' && t.OrderNo  == 1, TRUE , FALSE)}">
                                            <div id="ticketstable-subheader1" style="width:100%; height:30px;margin-top:10px; text-indent:10px; text-align:left;">
                                               <apex:outputText value="{!rs.Column_Name__c}" style="padding-top:5px; text-align:left;"/>
                                            </div>
                                        </apex:outputPanel>  
                                            <table id="field box" class="fields" width="80%" border="0" style="margin:0px auto; border-collapse:collapse;" cellpadding="10">

                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Home Address1:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="HomeAddress1" value="{!t.EachUserExt.Address1__c}" styleClass="HomeAddress1Ticket #{!t.OrderNo}"/></td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Home Address2:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="HomeAddress2" value="{!t.EachUserExt.Address2__c}"  styleClass="HomeAddress2Ticket #{!t.OrderNo}"/></td>
                                                </tr>
                                                 <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Home City:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="HomeCity" value="{!t.EachUserExt.City__c}" styleClass="HomeCityTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Home Country:
                                                    
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td>                        
                                                        <apex:selectList id="HomeCountry" value="{!t.EachUserExt.Country__c}" multiselect="false" size="1" styleClass="HomeCountryTicket #{!t.OrderNo}" style="width:100%">
                                                            <apex:selectOptions value="{!countryOptions}"/>
                                                                <apex:actionSupport event="onChange" action="{!statesBasedOnCountry}" rerender="HomeStatePanel">
                                                            </apex:actionSupport> 
                                                        </apex:selectList>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Home State:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td>
                                                        <apex:outputPanel id="HomeStatePanel">
                                                            <apex:selectList id="HomeState" value="{!t.EachUserExt.State__c}" multiselect="false" size="1" styleClass="HomeStateTicket #{!t.OrderNo}" style="width:100%">
                                                                <apex:selectOptions value="{!stateOptions}"></apex:selectOptions>
                                                            </apex:selectList>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Home Zip Code:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="HomeZip" value="{!t.EachUserExt.Zip_Code__c}" styleClass="HomeZipTicket #{!t.OrderNo}"/></td>
                                                </tr>    
                                                </apex:outputPanel> 
                                                
                                            
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Work Address1:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BusinessAddress1" value="{!t.EachCompanyExt.Business_Address1__c}" styleClass="BusinessAddress1Ticket #{!t.OrderNo}"/></td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Work Address2:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BusinessAddress2" value="{!t.EachCompanyExt.Business_Address2__c}" styleClass="BusinessAddress2Ticket #{!t.OrderNo}"/></td>
                                                </tr>
                                                 <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Work City:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BusinessCity" value="{!t.EachCompanyExt.Business_City__c}" styleClass="BusinessCityTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Work Country:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td>
                                                        <apex:selectList id="BusinessCountry" value="{!t.EachCompanyExt.BLN_Business_Country__c}" multiselect="false" size="1" styleClass="BusinessCountryTicket #{!t.OrderNo}" style="width:100%">
                                                            <apex:selectOptions value="{!countryOptions}"/>
                                                                <apex:actionSupport event="onChange" action="{!statesBasedOnCountry}" rerender="WorkStatePanel">
                                                            </apex:actionSupport> 
                                                        </apex:selectList>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Work State:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td>
                                                        <apex:outputPanel id="WorkStatePanel">
                                                            <apex:selectList id="BusinessState"  value="{!t.EachCompanyExt.BLN_Business_State__c}" multiselect="false" size="1" styleClass="BusinessStateTicket #{!t.OrderNo}" style="width:100%">
                                                                <apex:selectOptions value="{!stateOptions}"></apex:selectOptions>
                                                            </apex:selectList>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Work Zip Code:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BusinessZip" value="{!t.EachCompanyExt.Business_Zipcode__c}" styleClass="BusinessZipTicket #{!t.OrderNo}"/></td>
                                                </tr>    
                                                </apex:outputPanel>   
                                                
                                                
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Pay_Address__c' && rs.Column_Name__c == 'Billing Address' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Billing Address1:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Pay_Address__c' && rs.Column_Name__c == 'Billing Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BillingAddress1" value="{!t.BillingAddress.Street1_Address__c}" styleClass="BillingAddress1Ticket #{!t.OrderNo}"/></td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Billing Address2:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Pay_Address__c' && rs.Column_Name__c == 'Billing Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BillingAddress2" value="{!t.BillingAddress.Street2_Address__c}" styleClass="BillingAddress2Ticket #{!t.OrderNo}"/></td>
                                                </tr>
                                                 <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Billing City:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Pay_Address__c' && rs.Column_Name__c == 'Billing Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BillingCity" value="{!t.BillingAddress.City__c}" styleClass="BillingCityTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Billing Country:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Pay_Address__c' && rs.Column_Name__c == 'Billing Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td>
                                                        <apex:selectList id="BillingCountry" value="{!t.BillingAddress.BLN_Country__c}" multiselect="false" size="1" styleClass="BillingCountryTicket #{!t.OrderNo}" style="width:100%">
                                                            <apex:selectOptions value="{!countryOptions}"/>
                                                                <apex:actionSupport event="onChange" action="{!statesBasedOnCountry}" rerender="BillingStatePanel">
                                                            </apex:actionSupport> 
                                                        </apex:selectList>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Billing State:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Pay_Address__c' && rs.Column_Name__c == 'Billing Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td>
                                                        <apex:outputPanel id="BillingStatePanel">
                                                            <apex:selectList id="BillingState" value="{!t.BillingAddress.BLN_State__c}" multiselect="false" size="1" styleClass="BillingStateTicket #{!t.OrderNo}" style="width:100%">
                                                                <apex:selectOptions value="{!stateOptions}"></apex:selectOptions>
                                                            </apex:selectList>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Billing Zip Code:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Pay_Address__c' && rs.Column_Name__c == 'Billing Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BillingZip" value="{!t.BillingAddress.Zip__c}" styleClass="BillingZipTicket #{!t.OrderNo}"/></td>
                                                </tr>    
                                                </apex:outputPanel>     
                                            </table>
                                        
                                        <!-------------------------------------------------------------------------------------  Address Information Group End ---------------------------------------------------------------------------------------->
                                        
                                        <!-------------------------------------------------------------------------------------  Work Information Group Start ---------------------------------------------------------------------------------------->
                                        <apex:outputPanel rendered="{!IF(rs.Group_Name__c == 'Work Information' && rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Primary_Business_Category__c' , TRUE , FALSE)}">
                                            <div id="ticketstable-subheader1" style="width:100%; height:30px;margin-top:10px; text-indent:10px; text-align:left;">
                                                 <apex:outputText value="{!rs.Group_Name__c}" style="padding-top:5px; text-align:left;"/>
                                            </div>
                                        </apex:outputPanel>  
                                            <table id="field box" class="fields" width="80%" border="0" style="margin:0px auto; border-collapse:collapse;" cellpadding="10">
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Primary_Business_Category__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Primary_Business_Category__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="PrimBusCategory" value="{!t.EachCompanyExt.Primary_Business_Category__c}" styleClass="PrimBusCategoryTicket #{!t.OrderNo}" style="width:100%"/></td>
                                                </tr>
                                                </apex:outputPanel>  
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Secondary_Business_Category__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Secondary_Business_Category__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="SecBusCategory" value="{!t.EachCompanyExt.Secondary_Business_Category__c}" styleClass="SecBusCategoryTicket #{!t.OrderNo}" style="width:100%"/></td>
                                                </tr>
                                                </apex:outputPanel>  
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Number_Of_Employees__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Number_Of_Employees__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="NoofEmp" value="{!t.EachCompanyExt.Number_Of_Employees__c}" styleClass="NoofEmpTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                                </apex:outputPanel>  
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Established_Date__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Established_Date__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="EstDate" value="{!t.EachCompanyExt.Established_Date__c}" styleClass="EstDateTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                                </apex:outputPanel>  
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Revenue__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Revenue__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="Revenue" value="{!t.EachCompanyExt.Revenue__c}" styleClass="RevenueTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                                </apex:outputPanel>  
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Tax_Id__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Tax_Id__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="TaxId" value="{!t.EachCompanyExt.Tax_Id__c}" styleClass="TaxIdTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                                </apex:outputPanel> 
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Duns_Number__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Duns_Number__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="DunsNumber" value="{!t.EachCompanyExt.Duns_Number__c}" styleClass="DunsNumberTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                                </apex:outputPanel> 
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Website_URL__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Website_URL__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="WebsiteUrl" value="{!t.EachCompany.Website_URL__c}" styleClass="WebsiteUrlTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                                </apex:outputPanel> 
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Blog_URL__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Blog_URL__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BlogUrl" value="{!t.EachCompanyExt.Blog_URL__c}" styleClass="BlogUrlTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                                </apex:outputPanel>  
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Description__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Description__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="Description" value="{!t.EachCompany.Description__c}" styleClass="DescriptionTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                                </apex:outputPanel> 
                                            </table>
                                        
                                        <!-------------------------------------------------------------------------------------  Work Information Group End ---------------------------------------------------------------------------------------->
                                        
                                        <!-------------------------------------------------------------------------------------  NAICS Code Group Start ---------------------------------------------------------------------------------------->
                                         <apex:outputPanel rendered="{!IF(rs.Group_Name__c == 'Naics Code Information' && rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'NAICS Codes' && t.OrderNo ==1, TRUE , FALSE)}">
                                            <div id="ticketstable-subheader1" style="width:100%; height:30px;margin-top:10px; text-indent:10px; text-align:left;">
                                                 <apex:outputText value="{!rs.Group_Name__c}" style="padding-top:5px; text-align:left;"/>
                                            </div>
                                        </apex:outputPanel>  
                                            <table id="field box" class="fields" width="80%" border="0" style="margin:0px auto; border-collapse:collapse;" cellpadding="10">
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'NAICS Codes' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Primary NAICS Code:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'NAICS Codes' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td> <!--<select multiple="multiple" size="15" data-placeholder="Search NAICS Codes"  class="chzn-select medium-select select" name="SelBranch"  style="width:300px;" tabindex="17" id="PrimNaicsCode">  
                                                        <option value=""></option>
                                                        <apex:repeat value="{!listOfnaicscodes}" var="Lists">
                                                        <apex:repeat value="{!Lists}" var="list">  
                                                       
                                                        <option value="{!list.Id}" >{!list.Name} {!list.Description__c}</option>
                                                        
                                                        </apex:repeat>
                                                        </apex:repeat>
                                                        </select>
                                                        -->
                                                     

<apex:inputText id="PrimNaicsCode" value="{!t.EachCompanyExt.Primary_NAICS_Code__c}" styleClass="PrimNaicsCodeTicket #{!t.OrderNo}"/> 
                                                     <!--   <apex:selectList id="PrimNaicsCode" value="{!t.EachCompanyExt.Primary_NAICS_Code__c}" multiselect="false" size="1" styleClass="selectlist" style="width:80%" >
                                                            <apex:repeat value="{!NaicsListOfList}" var="na">
                                                                <apex:selectOptions value="{!na}"/>
                                                            </apex:repeat>
                                                        </apex:selectList>-->
                                                    </td>
                                                </tr>
                                                </apex:outputPanel>  
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'NAICS Codes' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Secondary NAICS Code:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'NAICS Codes' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="SecNaicsCode" value="{!t.EachCompanyExt.Secondary_NAICS_Code__c}" styleClass="SecNaicsCodeTicket #{!t.OrderNo}"/></td>
                                                </tr>
                                                </apex:outputPanel>      
                                            </table>
                                       
                                        <!-------------------------------------------------------------------------------------  NAICS Code Group End ---------------------------------------------------------------------------------------->
                                        
                                        <!----------------------------------------------------------------------------------- Diversity Type Group Start ---------------------------------------------------------------------------------------->
                                     <!--   <apex:outputPanel rendered="{!IF(rs.Group_Name__c == 'Diversity Type Information', TRUE , FALSE)}">
                                            <div id="ticketstable-subheader" style="width:100%; height:30px;margin-top:10px;border-bottom:1px dashed #FFFFFF; text-indent:10px;">
                                                 <p  style=" padding-top:5px; font-family:cuprum; font-size:18px; text-align:left;color: #FFFFFF; ">{!rs.Group_Name__c}</p>
                                            </div>
                                        </apex:outputPanel>  -->
                                            <table id="field box" class="fields" width="70%" border="0" style="margin:0px auto; border-collapse:collapse;" cellpadding="10">
                                                    
                                            </table>
                                        
                                        <!----------------------------------------------------------------------------------- Diversity Type Group End ---------------------------------------------------------------------------------------->
           
                                       
                                     </apex:repeat>    
                                      </apex:outputPanel>   
                                     <!--------------------------------------------------------------------- Ticket Details with Registration Settings End ----------------------------------------------------------------------------------->
                                    

                                     <!------------------------------------------------------------------- Item Level Survey Questions Section Start --------------------------------------------------------------------------------------------->
                                     <apex:outputPanel rendered="{!IF(t.UserAnswer.size > 1 && t.Ticket.Item__r.Ticket_Settings__c != 'Collect info from All Attendees', TRUE , FALSE)}">
                                         <table id="field box" class="fields" width="80%" border="0" style="margin:0px auto; border-collapse:collapse;border: 0px solid red;">
                                                 <tr>
                                                     <td width="38%" style="text-align:left; font-size:16px;color:#424242;font-family:Segoe ui;font-weight:bold;">                  
                                                         <u><apex:outputText value="Survey for {!t.Ticket.Item__r.item_name__c}"></apex:outputText></u>
                                                     </td>
                                                 </tr>
                                         </table>
                                     </apex:outputPanel>
                                     
                                     <apex:repeat value="{!t.UserAnswer}" var="sq">
                                         <table id="field box" class="fields" width="80%" border="0" style="margin:0px auto; border-collapse:collapse;border: 0px solid red;">
                                             <tr>
                                                <td width="38%" style="text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!sq.Question.Question_Text__c} :
                                                    <apex:outputText rendered="{!IF(sq.isRequired == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                </td>
                                                <td style="font-size:15px; font-family:Arial, Helvetica, sans-serif;border-radius: 3px;text-indent: 5px;">
                                                    <apex:selectList value="{!sq.SelectedAnswer}" multiselect="false" size="1" required="{!IF(sq.isRequired == TRUE, TRUE , FALSE)}" rendered="{!IF(sq.Question.Answer_Type__c=='Choose from a list',TRUE,FALSE)}" id="SQPicklist" styleClass="SQPicklistTicket #{!t.OrderNo}" style="width:100%;height:35px;">
                                                        <apex:selectOptions value="{!sq.Answers}"/>
                                                    </apex:selectList>
                                                    
                                                    <apex:selectRadio value="{!sq.SelectedAnswer}" layout="pageDirection" required="{!IF(sq.isRequired == TRUE, TRUE , FALSE)}" rendered="{!IF(sq.Question.Answer_Type__c=='Multiple choice',TRUE,FALSE)}" id="SQRadio" styleClass="SQRadioTicket #{!t.OrderNo}">
                                                        <apex:selectOptions value="{!sq.Answers}"/>
                                                    </apex:selectRadio>
                                                    
                                                    <apex:selectCheckboxes layout="pageDirection" value="{!sq.SelectedAnswerCheck}" required="{!IF(sq.isRequired == TRUE, TRUE , FALSE)}" rendered="{!IF(sq.Question.Answer_Type__c=='Checkboxes',TRUE,FALSE)}" id="SQCheckbox" styleClass="SQCheckboxTicket #{!t.OrderNo}">
                                                        <apex:selectOptions value="{!sq.Answers}"/>
                                                    </apex:selectCheckboxes>
                                                    
                                                    <apex:selectRadio value="{!sq.SelectedAnswer}" layout="lineDirection" required="{!IF(sq.isRequired == TRUE, TRUE , FALSE)}" rendered="{!IF(sq.Question.Answer_Type__c=='Scale',TRUE,FALSE)}" id="SQScale" styleClass="SQScaleTicket #{!t.OrderNo}" style="width:100%;height:35px;">
                                                        <apex:selectOptions value="{!sq.Answers}"/>
                                                    </apex:selectRadio>

                                                    <apex:inputText value="{!sq.SelectedAnswer}" required="{!IF(sq.isRequired == TRUE, TRUE , FALSE)}" rendered="{!IF(sq.Question.Answer_Type__c=='Text',TRUE,FALSE)}" id="SQText" styleClass="SQTextTicket #{!t.OrderNo}"/>
                                                    <apex:inputTextarea value="{!sq.SelectedAnswer}" required="{!IF(sq.isRequired == TRUE, TRUE , FALSE)}" rendered="{!IF(sq.Question.Answer_Type__c=='Paragraph text',TRUE,FALSE)}" rows="2" id="SQParagraph" styleClass="SQParagraphTicket #{!t.OrderNo}" style="width:100%;box-shadow: #F4F4F4 1px 4px 10px 0px;background-color: #ffffff;color: #727373;border: 1px solid #e3e3e3;"/>   
                                                 </td>
                                             </tr>
                                         </table>  
                                     </apex:repeat>                                
                                     <!----------------------------------------------------------------- Item Level Survey Questions Section End --------------------------------------------------------------------------------------------->
                                    
                              
                                </apex:repeat>
                               
                                 <!----------------------------------------------------------------- Event Level Survey Questions Section Start --------------------------------------------------------------------------------------------->
                                 <apex:repeat value="{!UserEventAnswer}" var="uea">
                                     <table id="field box" class="fields" width="80%" border="0" style="margin:0px auto; border-collapse:collapse;border: 0px solid red;">
                                         <tr>
                                            <td width="38%" style="text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!uea.Question.Question_Text__c} :
                                                <apex:outputText rendered="{!IF(uea.isRequired == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                            </td>
                                            <td style="font-size:15px; font-family:Arial, Helvetica, sans-serif;border-radius: 3px;text-indent: 5px;">
                                                <apex:selectList value="{!uea.SelectedAnswer}" multiselect="false" size="1" required="{!IF(uea.isRequired == TRUE, TRUE , FALSE)}" rendered="{!IF(uea.Question.Answer_Type__c=='Choose from a list',TRUE,FALSE)}" style="width:100%;height:35px;">
                                                    <apex:selectOptions value="{!uea.Answers}"/>
                                                </apex:selectList>
                                                
                                                <apex:selectRadio value="{!uea.SelectedAnswer}" layout="pageDirection" required="{!IF(uea.isRequired == TRUE, TRUE , FALSE)}" rendered="{!IF(uea.Question.Answer_Type__c=='Multiple choice',TRUE,FALSE)}">
                                                    <apex:selectOptions value="{!uea.Answers}"/>
                                                </apex:selectRadio>
                                                
                                                <apex:selectCheckboxes layout="pageDirection" value="{!uea.SelectedAnswerCheck}" required="{!IF(uea.isRequired == TRUE, TRUE , FALSE)}" rendered="{!IF(uea.Question.Answer_Type__c=='Checkboxes',TRUE,FALSE)}" >
                                                    <apex:selectOptions value="{!uea.Answers}"/>
                                                </apex:selectCheckboxes>
                                                
                                                <apex:selectRadio value="{!uea.SelectedAnswer}" layout="lineDirection" required="{!IF(uea.isRequired == TRUE, TRUE , FALSE)}" rendered="{!IF(uea.Question.Answer_Type__c=='Scale',TRUE,FALSE)}" styleClass="chzn-select medium-select select" style="width:100%;height:35px;">
                                                    <apex:selectOptions value="{!uea.Answers}"/>
                                                </apex:selectRadio>

                                                <apex:inputText value="{!uea.SelectedAnswer}" required="{!IF(uea.isRequired == TRUE, TRUE , FALSE)}" rendered="{!IF(uea.Question.Answer_Type__c=='Text',TRUE,FALSE)}"/>
                                                <apex:inputTextarea value="{!uea.SelectedAnswer}" required="{!IF(uea.isRequired == TRUE, TRUE , FALSE)}" rendered="{!IF(uea.Question.Answer_Type__c=='Paragraph text',TRUE,FALSE)}" rows="2" style="width:100%;box-shadow: #F4F4F4 1px 4px 10px 0px;background-color: #ffffff;color: #727373;border: 1px solid #e3e3e3;"/>   
                                             </td>
                                         </tr>
                                     </table>  
                                 </apex:repeat>                                
                                <!--------------------------------------------------------------------- Event Level Survey Questions Section End --------------------------------------------------------------------------------------------->
                                
                                                                        
                                                
                                <!---------------------------------------------------------------------- Buyer Information Start -------------------------------------------------------------------------------->
                               <apex:outputPanel rendered="{!IF(LoggedInUser.Username == NULL, TRUE,FALSE)}">
                                    <div id="ticketstable-subheader" style="padding: 5px 0px;width:100%;margin-top:10px; text-indent:10px;text-align:left;">
                                        
                                        <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                          <tr>
                                            <td style="text-align:left;width:60%; border: 0px Solid Red;">
                                                <apex:outputText value="Buyer Information"/>
                                            </td>
                                            <td style="padding-right:10px; text-align:right; width:40%;border: 0px Solid Red;">  
                                                 <!-- <apex:outputPanel rendered="{!If(Order>0, TRUE, FALSE)}">
                                                  Copy Info from: <select id="Ticket #-1" onchange="jsFunction(this);" style="width: 140px;height:20px; ">
                                                        <option>Select (Optional)</option>
                                                        <apex:repeat value="{!TicketList}" var="o">  
                                                            <apex:outputPanel rendered="{!IF((o.Ticket.Item_Pool__r.Ticket_Settings__c == 'Collect info from All Attendees' && o.Ticket.Item_Type__r.name == 'Package') || (o.Ticket.Item__r.Ticket_Settings__c == 'Collect info from All Attendees' && o.Ticket.Item_Type__r.name != 'Package'), TRUE, FALSE)}"> 
                                                                <option>Ticket #{!o.OrderNo}</option>
                                                            </apex:outputPanel>
                                                        </apex:repeat>
                                                        </select>
                                                </apex:outputPanel> -->   
                                            </td>
                                          </tr>
                                        </table>
                                        
                                    </div>
                                </apex:outputPanel>                                   

    <apex:outputPanel >
                                            <div id="ticketstable-subheader1" style="width:100%; height:30px;margin-top:10px; text-indent:10px; text-align:left;">
                                                 <apex:outputText value="Basic Information" style="padding-top:5px; text-align:left;"/>
                                            </div>
                                        </apex:outputPanel> 

                                        <table id="field box" class="fields" width="80%" border="0" style="margin:0px auto; border-collapse:collapse;border: 0px Solid Red;" cellpadding="10">
                
                                                 <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">
                                                     Prefix: <span id="mandatory">*</span>   
                                                    </td>
                                                    <td><apex:inputField id="Prefix" value="{!GNUserforbuyer.Prefix__c}" styleClass="PrefixTicket " style="width:100%"/></td>
                                                </tr>
                                                    <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">
                                                        First Name:<span id="mandatory">*</span> </td>
                                                    <td><apex:inputField id="FirstName" value="{!GNUserforbuyer.firstname}" onchange="setCookie('apex__firstname', this.value, 3);" styleClass="FirstNameTicket "/></td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;"> Last Name:<span id="mandatory">*</span>
                                                       </td>
                                                    <td><apex:inputField id="LastName" value="{!GNUserforbuyer.lastname}" onchange="setCookie('apex__lastname', this.value, 3);" styleClass="LastNameTicket "/></td>
                                                </tr>
                                                  <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">
                                                       Email: <span id="mandatory">*</span>
                                                       </td>
                                                    <td><apex:inputField id="Email" value="{!GNUserforbuyer.Email}" onchange="setCookie('apex__emailaddress', this.value, 3);" styleClass="EmailTicket "/></td>
                                                </tr>
                                           
                                        </table>



                                   
                                    <apex:repeat value="{!settingsForbuyer}" var="rs">
                                       <table id="field box" class="fields" width="80%" border="0" style="margin:0px auto; border-collapse:collapse;border: 0px Solid Red;" cellpadding="10">
                                          
                                             <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Suffix__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Suffix__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="Suffix"  value="{!GNUserforbuyer.Suffix__c}" styleClass="SuffixTicket " style="width:100%"/></td>
                                                </tr>
                                            </apex:outputPanel>  
                                             
                                            <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Phone__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Phone__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="Phone" value="{!GNUserforbuyer.Phone}" onchange="setCookie('apex__phone', this.value, 3);"  styleClass="PhoneTicket "/></td>
                                                </tr>
                                            </apex:outputPanel>   
                                            <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Name' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Name' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="Company" value="{!GNUserforbuyer.CompanyName}" onchange="setCookie('apex__company', this.value, 3);" styleClass="CompanyTicket "/></td>
                                                </tr>
                                            </apex:outputPanel> 
                                            <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Title__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Title__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="Title" value="{!GNUserforbuyer.Title}" required="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Title__c' && rs.Required__c == TRUE, TRUE , FALSE)}"  styleClass="TitleTicket "/></td>
                                                </tr>
                                            </apex:outputPanel>   
                                            <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Age__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Age__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="Age" value="{!GNUserforbuyer.Age__c}" styleClass="AgeTicket "/></td>
                                                </tr>
                                            </apex:outputPanel>  
                                            <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'DOB__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'DOB__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="DOB" value="{!GNUserforbuyer.DOB__c}" styleClass="DOBTicket "/></td>
                                                </tr>
                                            </apex:outputPanel>     
                                            <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Gender__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Gender__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="Gender" value="{!GNUserforbuyer.Gender__c}" styleClass="GenderTicket " style="width:100%"/></td>
                                                </tr>
                                            </apex:outputPanel>       
                                            <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work_Phone__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Work_Phone__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="WorkPhone" value="{!GNbuyerCompanyDetails.Work_Phone__c}" styleClass="WorkPhoneTicket "/></td>
                                                </tr>
                                            </apex:outputPanel>  
                                            <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Home_Phone__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'GN_User__c' && rs.Column_Name__c == 'Home_Phone__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="HomePhone" value="{!GNUserforbuyer.Home_Phone__c}" styleClass="HomePhoneTicket "/></td>
                                                </tr>
                                            </apex:outputPanel>   

                                        </table>
                                     
                                        
                                        <!-------------------------------------------------------------------------------------  Basic Information Group End ---------------------------------------------------------------------------------------->
                                      
                                    
                                    <!-------------------------------------------------------------------------------------  Address Information Group Start ---------------------------------------------------------------------------------------->
                                         <apex:outputPanel rendered="{!IF(rs.Group_Name__c == 'Address Information' , TRUE , FALSE)}">
                                            <div id="ticketstable-subheader1" style="width:100%; height:30px;margin-top:10px; text-indent:10px; text-align:left;">
                                               <apex:outputText value="{!rs.Column_Name__c}" style="padding-top:5px; text-align:left;"/>
                                            </div>
                                        </apex:outputPanel>  
                                            <table id="field box" class="fields" width="80%" border="0" style="margin:0px auto; border-collapse:collapse;" cellpadding="10">

                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Home Address1:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="HomeAddress1" value="{!GNUserextforbuyer.Address1__c}" styleClass="HomeAddress1Ticket "/></td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Home Address2:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="HomeAddress2" value="{!GNUserextforbuyer.Address2__c}"  styleClass="HomeAddress2Ticket "/></td>
                                                </tr>
                                                 <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Home City:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="HomeCity" value="{!GNUserextforbuyer.City__c}" styleClass="HomeCityTicket "/></td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Home Country:
                                                    
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td>                        
                                                        <apex:selectList id="HomeCountry" value="{!GNUserextforbuyer.Country__c}" multiselect="false" size="1" styleClass="HomeCountryTicket " style="width:100%">
                                                            <apex:selectOptions value="{!countryOptions}"/>
                                                                <apex:actionSupport event="onChange" action="{!statesBasedOnCountry}" rerender="HomeStatePanel">
                                                            </apex:actionSupport> 
                                                        </apex:selectList>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Home State:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td>
                                                        <apex:outputPanel id="HomeStatePanel">
                                                            <apex:selectList id="HomeState" value="{!GNUserextforbuyer.State__c}" multiselect="false" size="1" styleClass="HomeStateTicket " style="width:100%">
                                                                <apex:selectOptions value="{!stateOptions}"></apex:selectOptions>
                                                            </apex:selectList>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Home Zip Code:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'User_Ext__c' && rs.Column_Name__c == 'Home Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="HomeZip" value="{!GNUserextforbuyer.Zip_Code__c}" styleClass="HomeZipTicket "/></td>
                                                </tr>   
                                                

<tr>
</tr>
                                                
 
                                                </apex:outputPanel> 
                                                
                                            
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Work Address1:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BusinessAddress1" value="{!GNbuyerCompanyDetails.Business_Address1__c}" styleClass="BusinessAddress1Ticket "/></td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Work Address2:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BusinessAddress2" value="{!GNbuyerCompanyDetails.Business_Address2__c}" styleClass="BusinessAddress2Ticket "/></td>
                                                </tr>
                                                 <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Work City:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BusinessCity" value="{!GNbuyerCompanyDetails.Business_City__c}" styleClass="BusinessCityTicket "/></td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Work Country:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td>
                                                        <apex:selectList id="BusinessCountry" value="{!GNbuyerCompanyDetails.BLN_Business_Country__c}" multiselect="false" size="1" styleClass="BusinessCountryTicket " style="width:100%">
                                                            <apex:selectOptions value="{!countryOptions}"/>
                                                                <apex:actionSupport event="onChange" action="{!statesBasedOnCountry}" rerender="WorkStatePanel">
                                                            </apex:actionSupport> 
                                                        </apex:selectList>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Work State:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td>
                                                        <apex:outputPanel id="WorkStatePanel">
                                                            <apex:selectList id="BusinessState"  value="{!GNbuyerCompanyDetails.BLN_Business_State__c}" multiselect="false" size="1" styleClass="BusinessStateTicket " style="width:100%">
                                                                <apex:selectOptions value="{!stateOptions}"></apex:selectOptions>
                                                            </apex:selectList>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Work Zip Code:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Work Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BusinessZip" value="{!GNbuyerCompanyDetails.Business_Zipcode__c}" styleClass="BusinessZipTicket "/></td>
                                                </tr>    
                                                </apex:outputPanel>   
                                                
                                                
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Pay_Address__c' && rs.Column_Name__c == 'Billing Address' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Billing Address1:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Pay_Address__c' && rs.Column_Name__c == 'Billing Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BillingAddress1" value="{!BillingAddressForbuyer.Street1_Address__c}" styleClass="BillingAddress1Ticket "/></td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Billing Address2:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Pay_Address__c' && rs.Column_Name__c == 'Billing Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BillingAddress2" value="{!BillingAddressForbuyer.Street2_Address__c}" styleClass="BillingAddress2Ticket "/></td>
                                                </tr>
                                                 <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Billing City:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Pay_Address__c' && rs.Column_Name__c == 'Billing Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BillingCity" value="{!BillingAddressForbuyer.City__c}" styleClass="BillingCityTicket "/></td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Billing Country:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Pay_Address__c' && rs.Column_Name__c == 'Billing Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td>
                                                        <apex:selectList id="BillingCountry" value="{!BillingAddressForbuyer.BLN_Country__c}" multiselect="false" size="1" styleClass="BillingCountryTicket " style="width:100%">
                                                            <apex:selectOptions value="{!countryOptions}"/>
                                                                <apex:actionSupport event="onChange" action="{!statesBasedOnCountry}" rerender="BillingStatePanel">
                                                            </apex:actionSupport> 
                                                        </apex:selectList>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Billing State:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Pay_Address__c' && rs.Column_Name__c == 'Billing Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td>
                                                        <apex:outputPanel id="BillingStatePanel">
                                                            <apex:selectList id="BillingState" value="{!BillingAddressForbuyer.BLN_State__c}" multiselect="false" size="1" styleClass="BillingStateTicket " style="width:100%">
                                                                <apex:selectOptions value="{!stateOptions}"></apex:selectOptions>
                                                            </apex:selectList>
                                                        </apex:outputPanel>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Billing Zip Code:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Pay_Address__c' && rs.Column_Name__c == 'Billing Address' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BillingZip" value="{!BillingAddressForbuyer.Zip__c}" styleClass="BillingZipTicket "/></td>
                                                </tr>    
                                                </apex:outputPanel>     
                                            </table>
                                        
                                        <!-------------------------------------------------------------------------------------  Address Information Group End ---------------------------------------------------------------------------------------->
                                        
                                <!-------------------------------------------------------------------------------------  Work Information Group Start ---------------------------------------------------------------------------------------->
                                        <apex:outputPanel rendered="{!IF(rs.Group_Name__c == 'Work Information' && rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Primary_Business_Category__c' , TRUE , FALSE)}">
                                            <div id="ticketstable-subheader1" style="width:100%; height:30px;margin-top:10px; text-indent:10px; text-align:left;">
                                                 <apex:outputText value="{!rs.Group_Name__c}" style="padding-top:5px; text-align:left;"/>
                                            </div>
                                        </apex:outputPanel>  
                                            <table id="field box" class="fields" width="80%" border="0" style="margin:0px auto; border-collapse:collapse;" cellpadding="10">
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Primary_Business_Category__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Primary_Business_Category__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="PrimBusCategory" value="{!GNbuyerCompanyDetails.Primary_Business_Category__c}" styleClass="PrimBusCategoryTicket " style="width:100%"/></td>
                                                </tr>
                                                </apex:outputPanel>  
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Secondary_Business_Category__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Secondary_Business_Category__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputField id="SecBusCategory" value="{!GNbuyerCompanyDetails.Secondary_Business_Category__c}" styleClass="SecBusCategoryTicket " style="width:100%"/></td>
                                                </tr>
                                                </apex:outputPanel>  
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Number_Of_Employees__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Number_Of_Employees__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="NoofEmp" value="{!GNbuyerCompanyDetails.Number_Of_Employees__c}" styleClass="NoofEmpTicket "/></td>
                                                </tr>
                                                </apex:outputPanel>  
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Established_Date__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Established_Date__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="EstDate" value="{!GNbuyerCompanyDetails.Established_Date__c}" styleClass="EstDateTicket "/></td>
                                                </tr>
                                                </apex:outputPanel>  
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Revenue__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Revenue__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="Revenue" value="{!GNbuyerCompanyDetails.Revenue__c}" styleClass="RevenueTicket "/></td>
                                                </tr>
                                                </apex:outputPanel>  
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Tax_Id__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Tax_Id__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="TaxId" value="{!GNbuyerCompanyDetails.Tax_Id__c}" styleClass="TaxIdTicket "/></td>
                                                </tr>
                                                </apex:outputPanel> 
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Duns_Number__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Duns_Number__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="DunsNumber" value="{!GNbuyerCompanyDetails.Duns_Number__c}" styleClass="DunsNumberTicket "/></td>
                                                </tr>
                                                </apex:outputPanel> 
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Website_URL__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Website_URL__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="WebsiteUrl" value="{!GNbuyerCompany.Website_URL__c}" styleClass="WebsiteUrlTicket "/></td>
                                                </tr>
                                                </apex:outputPanel> 
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Blog_URL__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'Blog_URL__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="BlogUrl" value="{!GNbuyerCompanyDetails.Blog_URL__c}" styleClass="BlogUrlTicket "/></td>
                                                </tr>
                                                </apex:outputPanel>  
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Description__c' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">{!rs.Label_Name__c}:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company__c' && rs.Column_Name__c == 'Description__c' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="Description" value="{!GNbuyerCompany.Description__c}" styleClass="DescriptionTicket "/></td>
                                                </tr>
                                                </apex:outputPanel> 
                                            </table>
                                        
                                        <!-------------------------------------------------------------------------------------  Work Information Group End ---------------------------------------------------------------------------------------->
                                     <!-------------------------------------------------------------------------------------  NAICS Code Group Start ---------------------------------------------------------------------------------------->
                                         <apex:outputPanel rendered="{!IF(rs.Group_Name__c == 'Naics Code Information' && rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'NAICS Codes', TRUE , FALSE)}">
                                            <div id="ticketstable-subheader1" style="width:100%; height:30px;margin-top:10px; text-indent:10px; text-align:left;">
                                                 <apex:outputText value="{!rs.Group_Name__c}" style="padding-top:5px; text-align:left;"/>
                                            </div>
                                        </apex:outputPanel>  
                                            <table id="field box" class="fields" width="80%" border="0" style="margin:0px auto; border-collapse:collapse;" cellpadding="10">
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'NAICS Codes' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Primary NAICS Code:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'NAICS Codes' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td> <apex:inputText id="PrimNaicsCode" value="{!GNbuyerCompanyDetails.Primary_NAICS_Code__c}" styleClass="PrimNaicsCodeTicket "/> 
                                                    <!-- 

                                                        <select multiple="multiple" size="15" data-placeholder="Search NAICS Codes"  class="chzn-select medium-select select" name="SelBranch"  style="width:300px;" tabindex="17" id="PrimNaicsCode">  
                                                        <option value=""></option>
                                                        <apex:repeat value="{!listOfnaicscodes}" var="Lists">
                                                        <apex:repeat value="{!Lists}" var="list">  
                                                       
                                                        <option value="{!list.Id}" >{!list.Name} {!list.Description__c}</option>
                                                        
                                                        </apex:repeat>
                                                        </apex:repeat>
                                                        </select>
                                                        -->
                                                     
                                                    </td>
                                                </tr>
                                                </apex:outputPanel>  
                                                <apex:outputPanel rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'NAICS Codes' && rs.Included__c == TRUE, TRUE , FALSE)}">
                                                <tr>
                                                    <td width="38%" style=" text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Secondary NAICS Code:
                                                        <apex:outputText rendered="{!IF(rs.Table_Name__c == 'Company_Ext__c' && rs.Column_Name__c == 'NAICS Codes' && rs.Required__c == TRUE, TRUE , FALSE)}"><span id="mandatory">*</span></apex:outputText>
                                                    </td>
                                                    <td><apex:inputText id="SecNaicsCode" value="{!GNbuyerCompanyDetails.Secondary_NAICS_Code__c}" styleClass="SecNaicsCodeTicket "/></td>
                                                </tr>
                                                </apex:outputPanel>      
                                            </table>
                                        <!-------------------------------------------------------------------------------------  NAICS Code Group End ---------------------------------------------------------------------------------------->

                               </apex:repeat>      
                            </div>
                            <!--end of registrationfields-->
                                
                            </div>
                            
                        </div>

                    </td>
                </tr>
            
            </table>
            </div>


             


        
            <apex:outputPanel rendered="{!IF(TotalAmount > 0.00 , TRUE, FALSE)}" id="payPanel">
            <div id="tickets table" style="width:97%; margin-left:2%; padding-bottom:10px; padding-top:0px;">
            
            <div id="paypalradio" style="width:100%; margin-left:0%; margin-top:5px;">
                <div id="ticketstable-subheader" style="padding: 5px 0px;width:100%;margin-top:10px;text-indent:10px;text-align:left;">
                    <apex:outputText value="Payment Information"/>
                </div>
                <table id="field box" class="fields" width="80%" border="0" style="margin:0px auto; border-collapse:collapse;">
                
                <apex:outputText value="{!PaymentErrorString}" style="color:red;font-size:18px;" rendered="{!ShowPaymentError}" id="PaymentError"/>  
                
                <tr>
                    <td width="28%" style=" padding:5px; text-align:right;  font-weight:bold; font-size:13px; font-family:Arial, Helvetica, sans-serif;">Payment Type:</td>
                    <td style=" padding:5px; " width="70%">
                        <apex:selectRadio value="{!SelectedPaymentGateway}" styleClass="paymentOpt" onclick="toggle_visibility(this.value);" >
                            <apex:selectOptions value="{!PaymentGateways}"/>
                        </apex:selectRadio>
                    </td>
                </tr>
                </table>
                
            </div><!--close of paypal radio-->
               
             
               
               
               <div style="display:none;width:100%; margin-left:1%;" id="PayPal">
                    <table id="field box" class="fields" width="80%" border="0" style="margin:0px auto; border-collapse:collapse;">
                         <tr>
                            <td style=" padding:5px; text-align:left; font-size:13px; font-family:Arial, Helvetica, sans-serif;" valign="top">
                                <span style=" color:#F00">Note: </span><span style="color:#000; text-align:justify;">You will be taken to PayPal page for payment. Please do not close or refresh the page until you are redirected to the success message after payment.</span>
                            </td>
                        </tr>
                    </table><!--close of field box-->
                </div>
           
                <div style="display:none;width:100%; margin-left:1%;" id="CreditCard">
                <table id="field box" class="fields" width="80%" border="0" style="margin:0px auto; border-collapse:collapse;">
                     <tr>
                        <td width="38%" style=" padding:5px; text-align:right; font-size:13px; font-family:Arial, Helvetica, sans-serif;">Credit Card Type:<span id="mandatory">*</span></td>
                        <td style=" padding:5px; ">
                             <apex:selectList value="{!SelectedCardType}" size="1" multiselect="false" style="width:86%; border: 1px solid #CCCCCC;border-collapse: collapse;-webkit-border-radius: 4px;border-radius: 4px 4px 4px 4px;-moz-border-radius: 4px;height: auto;padding-top: 3px;position: relative;color: #727373;height: 35px;">
                                <apex:selectOptions value="{!CreditCardType}"/>
                            </apex:selectList>
                        </td>
                    </tr>
                    <tr>
                        <td width="38%" style=" padding:5px; text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Credit Card Number:<span id="mandatory">*</span></td>
                        <td style=" padding:5px; "><apex:inputText value="{!CreditCardNumber}" id="CreditCardId" style="margin-left:0px;width:86%;"/></td>
                    </tr>
                    <tr>
                        <td style="text-align:right;padding:5px; font-size:13px; font-family:Arial, Helvetica, sans-serif;">Expiry Date:<span id="mandatory">*</span></td>
                        <td style=" padding:5px; ">
                            <apex:selectList value="{!SelectedMonth}" size="1" multiselect="false" style="width:20%; border: 1px solid #CCCCCC;border-collapse: collapse;-webkit-border-radius: 4px;border-radius: 4px 4px 4px 4px;-moz-border-radius: 4px;height: auto;padding-top: 3px;position: relative;color: #727373;height: 35px;">
                                <apex:selectOptions value="{!MonthsList}" />
                            </apex:selectList>
                          
                           <apex:selectList value="{!SelectedYear}"  size="1" multiselect="false" style="margin-left:4px;width:28.90%;border: 1px solid #CCCCCC;border-collapse: collapse;-webkit-border-radius: 4px;border-radius: 4px 4px 4px 4px;-moz-border-radius: 4px;height: auto;padding-top: 3px;position: relative;color: #727373;height: 35px;">
                                <apex:selectOptions value="{!YearsList}" />
                            </apex:selectList>
                            
                            <apex:outputText value="CVV:" style="width:30%;padding-left:15px;text-align:right;"></apex:outputText><span id="mandatory">*</span>&nbsp;&nbsp;
                            <apex:inputText value="{!CVVNumber}" id="CVVNumberId" style="padding-left:5px; margin-left:0px;width:20%"/>
                        </td>
                    </tr>
                </table><!--close of field box-->
                </div> 

                <div style="display:none;width:100%; margin-left:1%;" id="Check">
                    <table id="field box" class="fields" width="80%" border="0" style="margin:0px auto; border-collapse:collapse;">
                         <tr>
                            <td width="38%" style=" padding:5px; text-align:right; font-size:13px; font-family:Arial, Helvetica, sans-serif;">Please enter your check number here :<span id="mandatory">*</span></td>
                            <td style="padding:5px;"><apex:inputText value="{!CheckNumber}" id="CheckId" style="width:130px;"/></td>
                        </tr>
                        <tr>
                            <td width="38%" style=" padding:5px; text-align:right;  font-size:13px; font-family:Arial, Helvetica, sans-serif;">Please send your check to the following address:</td>
                            <td style="padding:5px;" valign="top">
                                <div class="event-info" id="locationDetails1" style="display: block; border:0px solid #000;">
                                    <apex:outputText value="{!CheckAddress.Business_Address1__c}"/>, <apex:outputText value="{!CheckAddress.Business_Address2__c}"/><br/>
                                    <apex:outputText value="{!CheckAddress.Business_City__c}"/>, <apex:outputText value="{!CheckAddress.BLN_Business_State__r.Short_Name__c}"/>&nbsp; <apex:outputText value="{!CheckAddress.Business_Zipcode__c}"/>
                                </div>
                            </td>
                        </tr>
                    </table><!--close of field box-->
                </div>
                
                
                
                
            </div>
            </apex:outputPanel> 
             
             
            
            <apex:outputPanel rendered="{!IF(RegistrationEvent.Accept_Refund_Policy__c == TRUE,TRUE,FALSE)}">
                <div style="width:100%; margin-left:1%;margin-top:10px;padding-top:20px;font-size:12px;">
                    <div><span style="color:#f00;"><b>Refund Policy: </b></span>
                        <apex:outputText value="{!RegistrationEvent.Refund_Policy__c}"></apex:outputText>
                    </div>
                </div>  
            </apex:outputPanel><br/>
            
            <apex:outputPanel rendered="{!IF(RegistrationEvent.Accept_Terms_Conditions__c == TRUE,TRUE,FALSE)}">
                <div style="width:100%; margin-left:1%;margin-top:10px;font-size:12px;">
                    <div><span style="color:#f00;"><b>Terms and Conditions: </b> </span>
                        <apex:outputText value="{!RegistrationEvent.Terms_Conditions__c}"></apex:outputText>
                    </div>
                </div>  
            </apex:outputPanel><br/>
            
            <apex:outputPanel rendered="{!IF(RegistrationEvent.Show_Terms_Checkbox__c == TRUE,TRUE,FALSE)}">
                <div style="width:100%; margin-left:1%;margin-top:10px;font-size:12px;">
                    <div>
                        <span><input type="checkbox" id="AcceptTerms"/>
                        <apex:outputText value="I Accept Terms and Conditions"></apex:outputText></span>
                    </div>
                </div>  
            </apex:outputPanel><br/>




             <apex:outputPanel rendered="{!IF($User.Username==registrationEvent.owner.userName,true,false)}">
              
                    <div style="width:100%; margin-left:1%;" id="PayPal">
                    <table id="field box" class="fields" width="80%" border="0" style="margin:0px auto; border-collapse:collapse;">
                       <!--  <tr>
                            <td style=" padding:5px; text-align:left; font-size:13px; font-family:Arial, Helvetica, sans-serif;">
                              <apex:outputText value="Sub Total : ${!eventadminChangedAmount}" id="totalqty2" style="font-size:12px;font-weight:bold;"></apex:outputText>
                           </td>
                        </tr>
                        
                     <tr>
                            <td style=" padding:5px; text-align:left; font-size:13px; font-family:Arial, Helvetica, sans-serif;">
                               <apex:outputText value="Promo Discount : ${!DiscountedAmount}" id="discountamt2" style="font-size:12px;font-weight:bold;"></apex:outputText>
                           </td>
                        </tr>   -->
                        
                          <tr>
                            <td style=" padding:5px; text-align:left; font-size:13px; font-family:Arial, Helvetica, sans-serif;">
                               Override Total Amount : $ <apex:inputText value="{!totalAmount}" id="taxamt2" style="font-size:12px;font-weight:bold;width:100px;"></apex:inputText>
                           </td>
                        </tr>  
                         
                         <tr>
                            <td style=" padding:5px; text-align:left; font-size:13px; font-family:Arial, Helvetica, sans-serif;" valign="top">
                             Note : <apex:inputTextarea value="{!CommnetsByEventadmin}" rows="3"/>
                           </td>
                        </tr>
                        
                        
                        
                    </table><!--close of field box-->
                </div>                                    
               
              </apex:outputPanel>



            <div style="width:100%; margin-left:1%;margin-top:10px;">
                <div style="width:30%; height:30px; float:right;">  
                    <apex:commandButton value="Complete Registration" styleClass="orderbutton" action="{!validatePayment}" id="CRButton"/>  
                </div>
            </div>  
            
          
            
    </td><!--close of content description-->
    </apex:outputPanel>
     
   
    </apex:form>
     
    <!----------------------------------------------------------------------------------- Second Page Panel End ------------------------------------------------------------------------------------------------------------------->
    
        <style type="text/css">
            .Organizer-details-tbl tr td{ padding:5px;}
        </style>
        
         
        <td valign="top" id="rightwidget">
            <div id="Organizer-details" style=" width:95%; height:0px; margin-top:10px;margin-left:4%;">
                <table width="100%" class="Organizer-details-tbl" border="0" cellpadding="5" cellspacing="2" style=" border-collapse:collapse; font-size:14px; font-family:Arial, Helvetica, sans-serif;"  >
                    <tr id="organizer-title-bg">
                        <td colspan="2">
                            <h2 style="font-size:18px; padding:0px; margin:0px;color:#ffffff;">Organizer Details</h2>
                        </td>
                    </tr>
                    
                    <apex:repeat value="{!displaySettings}" var="ds">
                        <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Name' && ds.Included__c == TRUE, TRUE, FALSE)}">
                            <tr>
                                <td><img src="{!URLFOR($Resource.registration, 'events-preview/images/name.png')}" title="name" height="24px" width="24px"/></td>
                                <td><apex:outputText value="{!registrationEvent.createdBy.Name}"></apex:outputText> </td>
                            </tr>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Phone' && ds.Included__c == TRUE, TRUE, FALSE)}">
                        <tr>
                            <td><img src="{!URLFOR($Resource.registration, 'events-preview/images/phone.png')}" title="phone" height="24px" width="24px"/></td>
                            <td><apex:outputText value="{!registrationEvent.Phone_Number__c}"></apex:outputText></td>
                        </tr>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Email' && ds.Included__c == TRUE, TRUE, FALSE)}">
                        <tr>
                            <td><img src="{!URLFOR($Resource.registration, 'events-preview/images/email.png')}" title="email" height="24px" width="24px"/></td>
                            <td><a href="mailto:{!registrationEvent.Organizer_Email__c}" style="text-decoration:underline;" target="_blank">{!registrationEvent.Organizer_Email__c}</a></td>
                        </tr>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Website' && ds.Included__c == TRUE, TRUE, FALSE)}">
                        <tr>
                            <td><img src="{!URLFOR($Resource.registration, 'events-preview/images/Earth-1127235406.png')}" title="website" height="24px" width="24px"/></td>
                            <td><a href="{!registrationEvent.Website_Url__c}" style="text-decoration:underline;" target="_blank">{!registrationEvent.Website_Url__c}</a></td>
                        </tr>
                        </apex:outputPanel>
                    </apex:repeat>
                </table>
        
            </div><!--close of organizerdetails-->
        
        </td><!--close of right widget-->
        
    </tr>
 
    <tr><!--row for bootom shadows--------->
        <td height="22px" style="border-bottom:"  valign="bottom">
            <img src="{!URLFOR($Resource.registration, 'events-preview/images/bottom-border.png')}" width="100%" height="11px"/>
        </td>
        <td id="organizer-bottom-img" height="22px" valign="bottom" background="" >
            <img src="{!URLFOR($Resource.registration, 'events-preview/images/bottom-border.png')}" width="99.9%" height="11px"/>
        </td>
    </tr>
    </table>
<!-----End of content description section------------>

<!--start of social links footer-->
    
    <table width="100%" border="0" style=" margin-top:0px; margin-left:0%; border-collapse:collapse;">
        <tr>
        <td style="border:0px solid #000 "><!-- Share Stay connected code start   -->
            <div class="spsr-sec">
            <!--Share code start   --><!-- Stay connected code start   -->
            <div style=" float:left; border-left:#dddddd solid 1px; padding-right:25px; padding-top:20px; padding-bottom:10px; height:107px; padding-left:25px;color: #FFFFFF;">
                <div class="ticketstable-subheader"><strong>STAY CONNECTED</strong></div>
                <br/>
                <div>
                    <apex:repeat value="{!displaySettings}" var="ds">
                        <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Facebook' && ds.Included__c == TRUE, TRUE, FALSE)}">
                            <a href="{!registrationEvent.Facebook_URL__c}" style="text-decoration:underline;" target="_blank">
                                <div class="FaceBook_Stay_Connected"></div>
                            </a>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Twitter' && ds.Included__c == TRUE, TRUE, FALSE)}">
                            <a href="{!registrationEvent.Twitter_URL__c}" style="text-decoration:underline;" target="_blank">
                                <div class="Twitter_Stay_Connected"></div>
                            </a>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'LinkedIn' && ds.Included__c == TRUE, TRUE, FALSE)}">
                            <a href="{!registrationEvent.LinkedIn_URL__c}" style="text-decoration:underline;" target="_blank">
                                <div class="Linkedin_Stay_Connected"></div>
                            </a>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF(ds.Column_Name__c == 'Blogger' && ds.Included__c == TRUE, TRUE, FALSE)}">
                            <a href="{!registrationEvent.Event_Blog_URL__c}" style="text-decoration:underline;" target="_blank">
                                <div class="Blog_Stay_Connected"></div>
                            </a>
                        </apex:outputPanel>
                     </apex:repeat>
                </div>
                </div>
            </div>
            <!-- Stay connected code end   -->
            </td>
        </tr>
    </table>
    
    <!--end of social links footer-->
    <div style="width:100%; height:8px; background-image: url({!URLFOR($Resource.registration,'events-preview/images/')}top-border.png);"></div>        
    
    </div><!--close of preview container-->
      <!---------------------------->
 
      
<div class="clear"></div>
 </div> <!-- #content--> 
 </div>  <!-- #container-->

  <!------------------------------>
  <footer style="width:100%; padding:0px;">
    <div class="info-footer" style="margin:0px;" >
      <div id="left">
        <p>Copyright &copy; 2014  Global Nest.</p>
      </div>
      <div id="right">
        <p>Booth Leads </p>
      </div>
    </div>
  </footer><!--close of footer-->
  <!------------------>
</section>
<!-- #middle-->

<div class="clear"></div>
</body>
<script type="text/javascript">
var TabbedPanels1 = new Spry.Widget.TabbedPanels("TabbedPanels1");
document.getElementById(TabbedPanels1).defaultTab=1;
</script>

   
</apex:page>